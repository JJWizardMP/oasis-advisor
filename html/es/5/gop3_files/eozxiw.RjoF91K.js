(this.$WP=this.$WP||[]).push(["eozxiw",(e,i)=>{var a,r,t,n,l,o,d,s,c,m,p,g,h,u,_,v,T,f,I,C,y,A,N,S,w,x,R,b,E,k,P,z,D,U,W,j,F,O,L,G,M="_blank",$="AsFeaturedInWidget",B="SimilarArticlesWidget",q="ShowTopic",Y="ShowForum",H="Hotel_Review",V="BRANDED",Z=({contentType:e})=>a(d,{variant:"sponsored",children:e===V?a(s,{id:"branded_call_out_v2"}):a(s,{id:"article_sponsored_label"})}),Q={container:"lBxlz z o Gi",containerSimilarArticlesWidget:"nauQO",imgContainer:"cRdEs w",smallerHeight:"WEpJv",about:"QTqke o e",articleTitle:"PAAUW",articleTitleSimilarArticles:"xpTZm",readingTime:"GnfRK o",description:"mopsZ o",authorDate:"qsGkp o",sponsoredPill:"ZTGvo Z1 Wf"},J=e=>{var i,{photo:t,route:d,authors:s,title:_,description:v,readTime:T,lastUpdatedAt:f,sponsorshipContentType:I,locationType:y,articleId:A}=e.article,N=C(),S=c(),w=g(),{localize:x}=m(),{page:R}=h(),b="similar-articles"===e.widgetType;f&&(i=S.formatDate("date_medium",new Date(f)));var E=a("span",{children:"â€¢"}),k=R===H||R===q||R===Y,P=` ${x.string("orion.article.reading_time.min_read.v2",{0:T})}`,z=s?.[0]?.author?.name?x.string("article_by_author",{authorName:s?.[0]?.author?.name||""}):"",D=b?B:$,W=u(()=>{N({itemType:D,itemId:`${A}`,itemName:"ArticleCard",customData:JSON.stringify({locationType:y,route:d,sponsorshipContentType:I}),page:R,team:"TAPS",actionType:"click",pageUid:w})},[A,N,D,y,R,w,d,I]);return a("div",{className:n(Q.container,{[Q.containerSimilarArticlesWidget]:b}),children:r(o,{href:d,display:"block",theme:"none",target:M,onClick:W,children:[I&&a("div",{className:Q.sponsoredPill,children:a(U,{contentType:I})}),a("div",{className:n(Q.imgContainer,{[Q.smallerHeight]:k}),children:a(l,{source:t,width:"100%",height:"100%",roundingSize:"large"})}),r("div",{className:Q.about,children:[!b&&a("div",{className:n(Q.articleTitle),children:a(p,{variant:"title-04",color:"primaryText",children:_})}),b&&a("div",{className:n(Q.articleTitle,{[Q.articleTitleSimilarArticles]:b}),children:a(p,{variant:"title-02",color:"primaryText",children:_})}),a("div",{className:Q.readingTime,children:r(p,{variant:"supporting-01",color:"primaryText",children:[i," ",E,P]})}),a("div",{className:Q.description,children:a(p,{variant:"supporting-01",color:"primaryText",children:v})}),a("div",{className:Q.authorDate,children:a(p,{variant:"supporting-01",color:"primaryText",children:z})})]})]})})},K={mediaWrapper:"ArGPO o Mj Na MI NB",media:"ioSCd _C",progress:"ijccr s l",deleteButton:"aUNqD t _U"},X=({media:e,progress:i,onDelete:t})=>{var n=URL.createObjectURL(e.file);return _(()=>()=>URL.revokeObjectURL(n),[n]),r("div",{className:K.mediaWrapper,children:["photo"===e.mediaType&&a("img",{className:K.media,src:n,alt:""}),"video"===e.mediaType&&r("video",{controls:!0,controlsList:"nodownload nofullscreen",className:K.media,children:[a("track",{default:!0,kind:"captions"}),a("source",{src:n,type:"video/mp4"})]}),null!=i&&a("div",{className:K.progress,children:a(z,{numSteps:e.file.size,currentStep:i})}),e.mediaId&&a("div",{className:K.deleteButton,children:a(S,{marginLeft:"spacing-02",icon:P,"aria-label":"Delete",margin:"spacing-02",title:"Delete",size:"small",onClick:()=>t(e.mediaId)})})]})},ee=(e,i,a=e=>e)=>{var n=e.match(i);return n?.index!=null?r(t,{children:[e.substring(0,n.index),a(n[1]||n[0]),e.substring(n.index+n[0].length)]}):e},ei=({multipleMedia:e,mediaType:i,...r})=>{var t,{localize:l}=m();return t=e?"video"===i?l.string("new_videos_terms_of_use"):l.string("new_photos_terms_of_use"):"video"===i?l.string("new_video_terms_of_use"):l.string("new_photo_terms_of_use"),a("div",{className:n("QAmJs",D(r)),children:a(p,{variant:"supporting-01",elementType:"span",children:F(t,/<a .*>(.*)<\/a>/,e=>a(o,{theme:"inline",href:"/pages/terms.html",target:"_blank",children:e}))})})},ea=({mediaType:e,maxAllowedFiles:i,allowedFileTypes:t="photo"===e?[".jpg",".jpeg",".gif",".png"]:[".mp4",".m4v",".mov"],maxFileSize:n,...l})=>{var{localize:d}=m(),c="video"===e,g=`${d.string("mobile_help_center_url")}${c?"/articles/360024933773-Video-Guidelines":"/articles/200615067"}`;return r("div",{className:D(l),children:[a(p,{variant:"title-05",marginBottom:"spacing-02",children:a(s,{id:"flash_uploader_tips_and_guidelines_10d8"})}),r("ul",{children:[a("li",{children:a(p,{variant:"supporting-02",marginY:"spacing-01",children:c?a(s,{id:"video_upload_max_number",args:{nVideos:i}}):a(s,{id:"post_photo_tips_max_photos_guidelines",args:{maxPhotos:i}})})}),a("li",{children:a(p,{variant:"supporting-02",marginY:"spacing-01",children:c?a(s,{id:"video_upload_video_formats_accepted",args:{sFileExtentions:t.join(" ")}}):a(s,{id:"post_photo_accepted_formats"})})}),a("li",{children:a(p,{variant:"supporting-02",marginY:"spacing-01",children:a(s,{id:"file_size_limit_photo",args:{0:n/1024/1024}})})})]}),a(p,{variant:"supporting-02",marginTop:"spacing-03",children:F(c?d.string("video_upload_more_info_guidelines_link"):d.string("post_photo_more_info_2"),/<span>(.*)<\/span>/,e=>a(o,{theme:"inline",href:g,target:"_blank",children:e}))})]})},er={dropZone:"MtpTG _T f e u j c z Pi PW Pv PI",buttons:"f j",dragging:"GQgOb"},et=e=>"photo"===e?E:k,en=e=>{var{medias:i,maxFileSize:l,onCompletedUpload:o,maxAllowedFiles:d,onClose:s,mediaType:c,allowedFileTypes:m,setMedias:g}=e,{photos:h,open:u,progress:_,dragging:f}=x(e=>{var i=h.map((i,a)=>({...i,mediaId:e[a].mediaId}));g(e=>[...e,...i])}),I=i.length>1,C=i.length>0,y=v(()=>[...h,...i],[h,i]),A=d&&d>1?"files":"a file",S=d&&i.length<=d?d-i.length:d;return r(b,{widthOption:"fixed-40",onClose:s,children:[r("div",{className:n(er.dropZone,{[er.dragging]:f}),children:[a(N,{onClick:u,variant:"primary",size:"medium",disabled:!S,children:`Upload ${A}`}),a(p,{variant:"supporting-01",marginY:"spacing-03",children:"or"}),a(p,{variant:"title-05",marginY:"spacing-03",children:`Drag and drop ${A} from your desktop`})]}),y.map((e,r)=>a(T,{children:a(j,{media:e,progress:null!=_?_?.[r]:void 0,onDelete:e=>g(i.filter(i=>i.mediaId!==e))})},`${e.file.name}/${e.file.size}`)),!!S&&a(L,{mediaType:c,maxAllowedFiles:S,allowedFileTypes:m,maxFileSize:l||et(c||"photo"),marginTop:"spacing-05"}),C?r(t,{children:[a(O,{multipleMedia:I,mediaType:c,marginTop:"spacing-02"}),r("div",{className:er.buttons,children:[a(N,{marginTop:"spacing-03",variant:"primary",size:"medium",onClick:()=>{o(i.map(e=>({mediaId:e.mediaId||0,mediaType:e.mediaType}))),s(),g([])},children:"Save"}),a(N,{marginTop:"spacing-03",marginLeft:"spacing-02",variant:"secondary",size:"medium",onClick:()=>{g([]),s()},children:"Cancel"})]})]}):a(N,{variant:"secondary",size:"medium",marginTop:"spacing-03",onClick:()=>s(),children:"Cancel"})]})},el=({mediaType:e,maxAllowedFiles:i=1,isForCuration:n,maxFileSize:l,onCompletedUpload:o})=>{var[d,s]=f(!1),[c,m]=f([]),[p]=I(y);return r(t,{children:[a(N,{onClick:()=>{s(!0)},variant:"secondary",children:e?`Upload ${e}`:"Media upload"}),d&&a(R,{isForCuration:!0,mediaType:e,maxAllowedFiles:i,maxFileSize:l,beforePhotoUploadCheck:e=>e.length+c.length<=i||(p({node:a(A,{icon:w,children:`You can not upload more than ${i} file(s)`})}),!1),children:a(G,{medias:c,mediaType:e,maxAllowedFiles:i,maxFileSize:l,isForCuration:n,onCompletedUpload:o,setMedias:m,onClose:()=>{s(!1),m([])}})})]})};return[()=>{U=Z,W=J,j=X,F=ee,O=ei,L=ea,G=en,e({AFI_WIDGET:$,ARTICLES_PAGE:"Articles",ARTICLE_ID:"forumPostId",ATTRACTION_REVIEW:"Attraction_Review",ArticleCard:W,BLANK:M,BRANDED_CONTENT_TYPE:V,DETAIL_ID:"detailId",GEO_ID:"geoId",HOTEL_REVIEW:H,MediaUploader:el,RESTAURANT_REVIEW:"Restaurant_Review",SHOW_FORUM:Y,SHOW_TOPIC:q,SIMILAR_ARTICLES_WIDGET:B,SponsorshipContentCallOut:U,TOURISM:"Tourism",TRIPS_PAGE:"Trips",TRIP_ID:"tripId"})},[e=>(a=e.jsx,r=e.jsxs,t=e.Fragment),e=>n=e.default,e=>l=e.default,e=>o=e.default,e=>d=e.default,e=>(s=e.default,c=e.useIntlFormatter,m=e.useLocalize),e=>p=e.default,e=>(g=e.usePageviewUid,h=e.useRoute),e=>(u=e.useCallback,_=e.useEffect,v=e.useMemo,T=e.Fragment,f=e.useState,I=e.useContext),e=>C=e.default,e=>(y=e.Toast,A=e.ToastItem),e=>(N=e.default,S=e.CircularButton),e=>w=e.default,e=>(x=e.useCustomPhotoUpload,R=e.CustomPhotoUploadProvider),e=>b=e.Modal,e=>(E=e.maxImageUploadSizeInBytes,k=e.maxVideoUploadSizeInBytes),e=>P=e.default,e=>z=e.default,e=>D=e.margin]]},["21h32l","fkji80","34bu7w","lr6tb6","oz3g7e","7thqz4","essqvy","fgwvq1","o4yt4q","r73jw8","tr3542","jppfwt","gcjubj","iahtok","i3sz5h","714tj5","qkjm8h","qndsds","gw8uw6"]]);
