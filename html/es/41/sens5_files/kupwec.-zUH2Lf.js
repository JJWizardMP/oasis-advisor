(this.$WP=this.$WP||[]).push(["kupwec",(e,t)=>{var a,r,d,i,n,o,l,c,s,u,m,p,f,I,h,v,y,g,w,E,C,b,T,M,A,S,R,k,N,L,_,x,D,O,P,V,q,H,U,$,B,F,W,j,z,G,Y,Z,K,Q,J,X={offer_wrapper:"GlgOJ z R2 e",full:"gUoES",alt:"UYmSS",landscape:"sEiWH",price_night:"gHkKZ Vt F2",price:"jXQqC b",strikeThroughPrice:"qMZmt Wa",priceWrap:"FwOoB F2 q",price_vendor:"tOcbq q _S",buttonWrap:"qkSLf F2",buttonText:"q"},ee=["BLURRED_ALT"],et=e=>e.isIbOffer||!e.clickToken?null:r(g,{name:"external-link-no-box"}),ea=({data:e,status:t,providerDisplayName:d,buttonText:i,priceText:n,strikeThroughText:o,detailsHeight:l,layout:c,hotelId:s})=>{var{localize:u}=f(),m=h({event:"CLICKOUT",data:{hotelIdOnClick:s}});return"AVAILABLE"!==t?null:a("div",{className:`${X.offer_wrapper} ${ee.includes(c)?X.full:""}
     ${"LANDSCAPE"===c?X.landscape:""} ${"BLURRED_ALT"===c?X.alt:""}`,children:[a("div",{className:X.price_night,style:{height:l},children:[a("div",{...v(e,void 0),className:X.price_vendor,onClick:m,children:[d,et(e)]}),a("div",{className:X.priceWrap,children:[o&&r("div",{className:X.strikeThroughPrice,children:o}),r("div",{className:X.price,children:n})]})]}),r("div",{...v(e,void 0,!1),className:X.buttonWrap,onClick:e=>m(e,null),children:r(I,{legacyStyled:!0,variant:"commerce",size:"LANDSCAPE"===c?"small":"medium",fullWidth:ee.includes(c),children:r("span",{className:X.buttonText,children:i||u("view_deal")})})})]})},er={setAlbum:"ALBUM",setType:"TYPE",setSort:"SORT",setCategory:"CATEGORY",detailDismiss:"DETAIL_DISMISS",detail:"DETAIL",openViewer:"OPEN",updateLocationInfo:"UPDATE_LOCATION_INFO",updateReferenceMedia:"UPDATE_REFERENCE_MEDIA",invalidateReferenceMedia:"INVALIDATE_REFERENCE_MEDIA",resetState:"RESET_STATE"},ed={__key:0xfbfd0cb64594,id:"fbfd0cb645944f1e",loc:{},definitions:[]},ei=(e,t)=>{var[a,r]=d("");return i(()=>{var a=setTimeout(()=>{e?(r(S.generateUrlHashString(t)),S.updateHash(t)):(r(""),S.removeHash())},0);return()=>clearTimeout(a)},[e,t,t.referenceCompoundMediaId,t.selectedIndex]),a},en={overlay:"NdjYr",fullscreen:"w _Z",header:"CVNBL",content:"unrsl w _Z"},eo=({close:e})=>{var t=P();return t?r(V,{mobileRenderer:()=>r(q,{children:a("div",{className:`${en.overlay} ${en.fullscreen}`,children:[r(U,{onBack:e}),r(R,{height:"100%",width:"100%"})]})}),desktopRenderer:()=>{if(!t)return null;var{width:d,height:i}=t;if(!d||!i)return null;var n=H(d,i,!0),o={top:`${n.mh}px`,bottom:`${n.mh}px`,left:`${n.mw}px`,right:`${n.mw}px`};return r(q,{children:a("div",{className:en.overlay,style:o,children:[r("div",{className:en.header,children:r($,{onCloseClick:e})}),r("div",{className:en.content,children:r(R,{height:"100%",width:"100%"})})]})})}}):null},el=()=>N[L(_().mediaGroup)],ec={referenceCompoundMediaId:null,media:null,selectedIndex:null,addedToHistory:!1},es=(e,t)=>{switch(t.type){case er.setAlbum:return{...e,albumId:t.albumId,typeId:t.albumId!==k.TRAVELER_ALBUM?el():N.TRAVELER,categoryId:t.categoryId?t.categoryId:t.albumId,media:void 0,referenceCompoundMediaId:t.referenceCompoundMediaId};case er.setCategory:return{...e,categoryId:t.categoryId,referenceCompoundMediaId:void 0,media:void 0};case er.setType:return{...e,typeId:t.typeId,referenceCompoundMediaId:void 0,media:void 0};case er.setSort:return{...e,sort:t.sort,referenceCompoundMediaId:void 0,media:void 0};case er.detail:return{...e,selectedIndex:t.selectedIndex,media:t.media};case er.invalidateReferenceMedia:return{...e,media:null,referenceMedia:void 0,referenceCompoundMediaId:void 0};case er.updateReferenceMedia:return{...e,referenceMedia:t.referenceMedia,media:{media:t.referenceMedia,loading:!1}};case er.detailDismiss:return{...e,media:e.referenceMedia?{loading:!1,media:e.referenceMedia}:null};case er.updateLocationInfo:return{...e,locationName:t.locationName,locationTotalMediaCount:t.locationTotalMediaCount};case er.openViewer:return{...e,...t.state};case er.resetState:return{...e,...ec};default:return e}},eu=(e,t)=>{if(F(t)){var a=S.initDefaults(S.generateMediaViewerStateFromPVRoute(t));return a.locationId=e,a}return S.generateMediaViewerState(t)},em=({locationId:e,offer:t,businessContact:a})=>r(b,{query:ed,variables:{locationId:e},children:({fetching:d,data:i})=>d||!i?r(ep,{locationId:e,locationName:"",offer:t,businessContact:a}):r(ep,{locationId:e,locationName:i?.locations?.[0]?.name,locationTotalMediaCount:i?.locations?.[0]?.mediaCount,offer:t,businessContact:a})}),ep=({locationId:e,locationName:t,locationTotalMediaCount:n,offer:m,businessContact:p})=>{var f=x(),[I]=d(S.getHash()),[h,v]=d(B(I)),[y]=d(eu(e,I)),[g,w]=o(es,{...y,locationId:e}),E=l(M("media-viewer")),C=l(!1);Y(h,g);var[b,T]=d(void 0);i(()=>{var e=e=>{if(e.state&&"openMediaViewer"in e.state){v(!1);return}e.state&&"backToGallery"in e.state&&(w({type:"DETAIL_DISMISS"}),"media"in e.state&&T(e.state.media))};return window?(window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}):()=>{}},[b,g.selectedIndex]),i(()=>{h&&f(D.MV_OPEN,{locationId:e,albumId:g.albumId,categoryId:g.categoryId,typeId:g.typeId})},[h,g.albumId,g.categoryId,e,g.typeId,f]),i(()=>w({type:"UPDATE_LOCATION_INFO",locationName:t,locationTotalMediaCount:n}),[t,n]);var R=c(()=>{C.current&&window&&(g.addedToHistory?window.history.go(-2):window.history.back(),C.current=!1),f(D.CLOSE_CLICK,{locationId:e,albumId:101,categoryId:101,typeId:0}),v(!1),w({type:"RESET_STATE"})},[e,g.addedToHistory,f]);i(()=>{var t=t=>{var a=S.initDefaults(t);a.referenceCompoundMediaId&&a.referenceCompoundMediaId.id<0&&(a.referenceCompoundMediaId=null);var r=S.generateUrlHashString(a);window&&document&&(window.history.replaceState({openMediaViewer:!0},document.title,null),window.history.pushState(null,document.title,r)),C.current=!0,v(!0),w({type:"OPEN",state:{locationId:e,...a}})},a=E.current;return a.on("open",t),a.on("close",R),()=>{a.off("open",t),a.off("close",R)}},[e,R]);var k=s(()=>({locationId:e,albumId:g.albumId,categoryId:g.categoryId,typeId:g.typeId,mediaId:g.referenceCompoundMediaId?.id,sort:g.sort}),[e,g]);return a(O.Provider,{value:k,children:[r(W,{children:r(u,{fallback:r(eo,{close:R}),children:h&&r(Z,{offer:m,businessContact:p,close:R,mediaViewerState:g,dispatchMVAction:w})})}),r(A,{keyName:"Escape",callback:R})]})},ef=()=>{var e=j(),{page:t,params:a}=z(),d="geoId"in a&&a.geoId||0,i="detailId"in a&&a.detailId||0;return r(I,{variant:"commerce",onClick:()=>{e({actionSubType:"seePrices",actionType:"click",geoId:d,itemId:`${i}`,itemName:"undatedHeaderCommerce",locationId:i,page:t,team:"Hotels"});var a=document.getElementById("DEALS");a&&(setTimeout(()=>{a.scrollIntoView({block:"center",behavior:"smooth"})},100),M("media-viewer").emit("close"),setTimeout(()=>{M("h-drg").emit("open")},500))},size:"small",children:r(p,{id:"hr_check_availability"})})},eI=({offer:e,hotelId:t})=>{var a=E().hotels?.defaultDates??!0,{enabled:d}=C();return r(K,{businessContact:()=>r(w,{}),offer:i=>a&&d?r(Q,{}):e?i?r(G,{...e,layout:"LANDSCAPE",hotelId:t}):r(G,{...e,layout:"BLURRED_ALT",hotelId:t}):null})},eh=e=>r(J,{offer:e.listing?.chevronOffers?.[0],hotelId:e.hotelId}),ev=({optimusEnabled:e})=>r(y,{optimusEnabled:e,ttp:"hotel-review-photo-viewer-offer",children:e=>r(eh,{...e})});return[()=>{G=ea,Y=ei,Z=m(()=>t("p9rcpr")),K=n(T(e=>({locationId:e.page.detailId??0}))(em)),Q=ef,J=n(eI),e({RenderHRMediaViewer:eh,default:ev})},[e=>(a=e.jsxs,r=e.jsx),e=>(d=e.useState,i=e.useEffect,n=e.memo,o=e.useReducer,l=e.useRef,c=e.useCallback,s=e.useMemo,u=e.Suspense,m=e.lazy),e=>(p=e.default,f=e.useLocalize),e=>I=e.default,e=>(h=e.useClickOfferElement,v=e.getOfferElementProps,y=e.MetaQueryPoller),e=>g=e.Icon,e=>w=e.BusinessContactNode,e=>E=e.useTravelInfo,e=>C=e.useHRPartiallyRemoveCommerce,e=>b=e.Query,e=>T=e.connect,e=>M=e.createRadio,e=>A=e.default,e=>S=e,e=>R=e.default,e=>(k=e.AlbumTypes,N=e.mediaGroupIds,L=e.getMediaGroupForString,_=e.getMediaFilterToRetrieveAllPhotos),e=>(x=e.useMVTrackingWithoutContext,D=e.trackedPageActions,O=e.MVTrackingContext),e=>P=e.useViewport,e=>V=e.default,e=>(q=e.default,H=e.computeMVOverlayMetrics),e=>U=e.default,e=>$=e.default,e=>(B=e.shouldShow,F=e.shouldRedirect),e=>W=e.ErrorBoundary,e=>j=e.useHotelInteractionLogger,e=>z=e.useRoute]]},["21h32l","o4yt4q","7thqz4","jppfwt","nzwvrx","ybxsmg","dkknif","etaac9","wsk8ra","mqwhqn","2mj4nv","bqgabj","gttbjc","xf498w","u59av4","3w1vrt","eucglw","bnv2ns","8rtacq","tax17a","xc235k","wy2ipr","uk99rb","83pm0d","ctn2v9","fgwvq1"]]);
