(this.$WP=this.$WP||[]).push(["a23m3h",(e,t)=>{var r,a,n,s=e=>{for(var{rooms:t,adults:r,children:a}=e,n=t>0&&a?Math.floor(a.length/t):0,s=a?a.length-n*t:0,i=[],o=0,l=0;l<t;++l){var d=0;if(d=l<s?n+1:n){var h=Math.min(o+d,a.length),c=a.slice(o,h);o=h,i.push(c.join(","))}}return[`${t}`,`${r}`,i.join(":")].filter(e=>!!e.length).join("_")},i=e=>{var[t,r,a=""]=e?e.split("_"):[];return{rooms:parseInt(t,10),adults:parseInt(r,10),children:a.split(n).filter(e=>!!e.length).map(e=>parseInt(e,10))}},o=e=>!(isNaN(e)||e%1!=0),l=(e,t,r)=>o(e)&&e>=t&&e<=r,d=(e,t,r,a=-1)=>o(e)?Math.min(r,Math.max(t,e)):a,h=(e,t,r,a=-1)=>e?e.map(e=>d(e,t,r,a)):[],c={current:null},u=e=>{window.require(["trjs!ta/Core/TA.FireEvent","trjs!ta/util/Error","trjs!hotels/RoomsGuests"],(t,r,a)=>{c.current||(c.current=new a),c.current?.update({nRooms:e.rooms,nAdults:e.adults,childrenAges:e.children});var n=c.current?.updateStore();t.fireEvent("onLegacyGuestsChanged",n),t.fireEvent("searchFieldsChanged");try{window.ta?.page.processNewTravelInfo&&window.ta.page.processNewTravelInfo()}catch(e){r.record(e,"page-dates-interface: Failed to update with new guests")}})},p=e=>{if(e){var t=`uguests=${e}`;fetch("/UpdateSessionDatesAjax",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},credentials:"same-origin",body:t})}},g=e=>{if(e)try{var t=s(e);a().dispatch(r.travelerInfo.setHotelsTravelerInfo(void 0,t,void 0)),p(t),u(e)}catch(e){}};return[()=>{n=RegExp(",|:"),e({DEFAULT_GUEST_INFO:{rooms:1,adults:2,children:[]},HotelsValidation:{limits:{MIN_ROOMS:1,MAX_ROOMS:8,MIN_ADULTS:1,MAX_ADULTS:32,MIN_CHILDREN:0,MAX_CHILDREN:20,MIN_CHILD_AGE:0,MAX_CHILD_AGE:17},isValid:e=>{if(!e)return!1;var{rooms:t,adults:r,children:a}=e,n=l(t,1,8),s=l(r,1,32),i=a&&l(a.length,0,20)&&a.every(e=>l(e,0,17));return n&&s&&i},validate:(e,t)=>{var{rooms:r,adults:a,children:n}=e,{rooms:s,adults:i,children:o=[]}=t,l=d(r,1,8,1),c=d(a,1,32,2),u=h(n,-1,17,-1),p=d(u.length,0,20);return l!==s?(c=d(c,l,4*l),p=d(p,0,10*l)):(c!==i||p!==o.length)&&(l=d(l,Math.max(Math.ceil(c/4),Math.ceil(p/10)),c),p=d(p,0,10*l)),{rooms:l,adults:c,children:u=u.slice(0,p)}}},decode:i,isIntegerInRange:l,setHotelsPageGuests:g})},[e=>(r=e.actions,a=e.getStore)]]},["45ddp0"]]);
