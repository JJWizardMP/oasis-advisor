(this.$WP=this.$WP||[]).push(["9l2zsy",(t,e)=>{var a,i,r,n,o,d,l,c,s,u,m,p,_,v,h,f,g,y,C,I,b,T,A,w,D,k,N,x,E,R,S,M,O,L,z,q,Y,V,j,U,B,P,H,W,Q,F,G,K,$,J,Z,X,tt,te,ta,ti,tr,tn,to,td,tl,tc,ts,tu,tm,tp,t_,tv,th,tf,tg,ty,tC,tI,tb,tT,tA,tw,tD,tk,tN,tx,tE,tR,tS,tM,tO,tL,tz,tq,tY,tV,tj,tU,tB,tP,tH,tW,tQ,tF,tG,tK,t$,tJ,tZ,tX,t1,t0,t2,t9,t5,t3,t8,t6,t7,t4,et,ee,ea,ei,er,en,eo,ed,el,ec,es,eu,em,ep,e_,ev,eh,ef,eg,ey,eC,eI,eb,eT,eA,ew,eD,ek,eN,ex,eE,eR,eS,eM,eO,eL,ez,eq,eY,eV,ej,eU,eB,eP=t=>{var e=a("div",{className:"VTyoU MH o",children:a(l,{variant:"title-04",dataAttributes:{"data-automation":"trip_item_card_title"},children:t.title})});return i("div",{className:"HSuGR e",children:[a(n,{labels:t.labels,title:e,href:t.itemLink,bubbleRating:t.reviewData?a("div",{"data-automation":"trip_item_card_rating","data-automation-review-count":t.reviewData?.reviewCount??null,"data-automation-rating":t.reviewData?.rating??null,children:a(d,{size:"small",rating:t.reviewData.rating,numReviews:t.reviewData.reviewCount})}):void 0,onClick:t.onClick}),a("div",{className:"YJlDY K M Mk",children:t.content})]})},eH={gaiDescriptionIcon:"bghvZ",descriptionContainer:"f",descriptionWrapper:"lCuqD"},eW=t=>{var{localize:e}=v(),r=m();return i("div",{className:eH.descriptionContainer,children:[t.isAIGenerated&&a(p,{className:eH.gaiDescriptionIcon,src:"/img2/trips/itinerary_description_icon_gai.svg","data-automation":"trip_card_description_gai_icon"}),a(c,{ctaNewline:!0,numLinesToShow:t.numLinesToShow||("MOBILE"===r?1:2),webkitLineClamp:!0,collapsible:!0,cta:a(u,{variant:"primary-small",marginTop:"spacing-02",dataAttributes:{"data-automation":"trip_card_description_read_more"},children:e.string("common_Read_more")}),ctaCollapse:a(u,{variant:"primary-small",marginTop:"spacing-02",dataAttributes:{"data-automation":"trip_card_description_read_less"},children:e.string("common_Readless")}),children:i("p",{className:eH.descriptionWrapper,children:[a(l,{elementType:"span",display:"inline",variant:"supporting-01",color:"secondaryText",dataAttributes:{"data-automation":"trip_card_description"},children:t.descriptionText}),t.isAIGenerated&&i(l,{elementType:"span",display:"inline",color:"placeholderText",variant:"supporting-01",dataAttributes:{"data-automation":"trip_card_description_ai_generated"},children:[" ",e.string("trips_cards_narration")]})]})})]})},eQ={arrowContainer:"vdkQz _Q _Z",arrowLeft:"l",arrowRight:"_U"},eF=t=>{var[e,i]=C(0),r="MOBILE"===m(),n=e=>a(D,{source:t.photos?.[e],aspectRatio:"auto",width:"100%",height:"100%"}),d=t.travelersChoiceAwardData?.awardYear?a(k,{size:"large",color:"BOTB"===t.travelersChoiceAwardData.awardType?"yellow":"green",year:t.travelersChoiceAwardData.awardYear}):void 0;return a(o,{award:d,action:t.action,children:a("a",{href:t.itemLink,target:"_blank",children:r&&t.disableCarouselOnMobile?n(0):a(N,{itemRenderer:n,totalCount:t.photos?.length||0,currentIndex:e,onNav:e=>{t.photos?.length&&i(e)},arrowSize:"small",nodeWrappers:{rightArrow:t=>a("div",{className:w(eQ.arrowContainer,eQ.arrowRight),children:t}),leftArrow:t=>a("div",{className:w(eQ.arrowContainer,eQ.arrowLeft),children:t})}})})})};function eG({tripId:t,itemId:e,saveObject:i,inViewport:r,isOwner:n,onClick:o,onSaveComplete:d,onUnsaveComplete:l,deferredUnsave:c}){return n?a(E,{deferredUnsave:c,tripId:t,itemId:e,saveObject:i,size:"medium",dataAttributes:{"data-automation":"trip_item_save_button"},onClick:()=>o?.("unsave"),onSaveComplete:d,onUnsaveComplete:l}):r?a(x,{id:i.id,type:i.type,size:"medium",position:"static",dataAttributes:{"data-automation":"trip_item_save_button"},onClick:()=>o?.("save"),onSaveComplete:d,onUnsaveComplete:l}):null}var eK={__key:0xc1225817fc54,id:"c1225817fc54df5a",loc:{},definitions:[]},e$={__key:65578769458696,id:"3ba4bf42260878ae",loc:{},definitions:[]},eJ={textInputContainer:"LmSFY f Q3",textInputContainerForImageCard:"Tfsqo",textInputContainerForContentCard:"YQDcy",textInputContainerActive:"WtLJo",textInputContainerInactive:"Jguek",avatar:"DRNVy",textInput:"CsSZo",addCommentButton:"VAaxI f u",addCommentButtonActive:"IENSa",addCommentButtonInactive:"YtuFw"},eZ=({avatarUrl:t,variant:e,itemId:r,tripId:n,editComment:o,setEditComment:d})=>{var[l,c]=C(""),[{fetching:s},m]=O(eK),[{fetching:p},h]=O(e$),[f]=I(q),g=j(n),{localize:y}=v(),{fragment:D}=B(),k=b(()=>U(D),[D]);T(()=>{c(o.body??"")},[o.body]);var N=0===l.length,x=A(()=>{f({node:a(Y,{children:a(_,{id:"trips_general_error"})})})},[f]),E=()=>{s||(g({itemName:"AddCommentToItem",customData:{itemId:r??0,savesView:!k||"Saves"===k}}),m({request:{itemId:r??0,body:l}}).then(t=>{if(t.error)throw t.error;c("")}).catch(()=>{x()}))},R=()=>{p||(g({itemName:"SaveCommentEdit",customData:{itemId:r??0,comment:l,savesView:!k||"Saves"===k}}),h({request:{commentId:o.id??0,body:l}}).then(t=>{if(t.error)throw t.error;c(""),d({id:null,body:null})}).catch(()=>{x()}))};return i("div",{className:w(eJ.textInputContainer,{[eJ.textInputContainerActive]:!N,[eJ.textInputContainerInactive]:N,[eJ.textInputContainerForContentCard]:"CONTENT-CARD"===e,[eJ.textInputContainerForImageCard]:"IMAGE-CARD"===e}),children:[a("div",{className:eJ.avatar,children:a(L,{size:"xs",source:t??""})}),a("input",{type:"text",className:eJ.textInput,"aria-label":y.string("trips_comment_section_comment_add_comment_placeholder"),placeholder:y.string("trips_comment_section_comment_add_comment_label"),value:l,onChange:t=>{c(t.target.value)},"data-automation":"trip_item_comment_input",maxLength:5e3,onKeyDown:t=>{"Enter"===t.key&&(o.body?R():E())}}),a(u,{disabled:N,onClick:o.body?R:E,"aria-label":y.string("trips_comment_section_submit"),"data-automation":"trip_item_comment_submit",children:p||s?a("div",{className:eJ.addCommentButton,children:a(V,{variant:"xsmall"})}):a("div",{className:w(eJ.addCommentButton,{[eJ.addCommentButtonActive]:!N,[eJ.addCommentButtonInactive]:N}),children:a(z,{size:16,color:"secondaryIcon"})})})]})},eX={commentContainer:"f Q2 _c",avatarWrapper:"GKKQl",readMore:"axpSy",actionMenuWrapper:"uoCTw"},e1={__key:91396093991520,id:"531fcfb75a6038b8",loc:{},definitions:[]},e0=({itemId:t,commentId:e,body:i,tripId:r,setEditComment:n})=>{var[o]=I(q),d=j(r),{localize:l}=v(),[{fetching:c},s]=O(e1),[{fetching:m},p]=O(eK),{fragment:h}=B(),f=b(()=>U(h),[h]),g=A(()=>{o({node:a(Y,{children:a(_,{id:"trips_general_error"})})})},[o]),y=A(()=>{var e=a(W,{onClick:()=>{m||(d({itemName:"UndoDeleteComment",customData:{itemId:t,savesView:!f||"Saves"===f}}),p({request:{itemId:t,body:i}}).then(t=>{if(t.error)throw t.error}).catch(()=>{g()}))},children:a(_,{id:"stat_modal_undo"})});o({node:a(Y,{cta:e,children:a(_,{id:"trips_comment_section_comment_deleted"})})})},[o,i,g,t,m,p,d,f]),C=[{onClick:()=>{d({itemName:"EditItemComment",customData:{itemId:t,savesView:!f||"Saves"===f}}),n({id:e,body:i})},content:l.string("trips_comment_section_edit_comment"),key:"edit-comment",icon:F,dataAttributes:{"data-automation":"trip_item_comment_edit"}},{onClick:()=>{c||(d({itemName:"DeleteComment",customData:{itemId:t,savesView:!f||"Saves"===f}}),s({commentIds:e}).then(t=>{if(t.error)throw t.error;y()}).catch(()=>{g()}))},content:l.string("trips_comment_section_delete_comment"),key:"delete-comment",icon:Q,iconColor:"dangerIcon",textColor:"dangerText",dataAttributes:{"data-automation":"trip_item_comment_delete"}}];return a(P,{items:C,above:!0,alignEdge:"right",children:(t,e)=>a(u,{ref:t,onClick:e,"aria-label":l.string("trips_comment_section_comment_action_menu"),"data-automation":"trip_item_comment_action_menu",children:a("div",{className:"yejfy f j u Rc",children:a(H,{size:18})})})})},e2=({itemId:t,commentId:e,author:r,body:n,tripId:o,setEditComment:d,index:s})=>{var{localize:m}=v(),p=R();if(!t||!e||!n||!r.userId||!r.displayName)return null;var _=p===r.userId,h=a(u,{variant:"primary-small",marginTop:"spacing-01",dataAttributes:{"data-automation":"trip_item_comment_read_more"},children:m.string("common_Read_more")}),f=a(u,{variant:"primary-small",marginTop:"spacing-01",dataAttributes:{"data-automation":"trip_item_comment_read_less"},children:m.string("common_Readless")});return i("div",{className:eX.commentContainer,"data-automation":`trip_item_comment_${s}`,children:[a("div",{className:eX.avatarWrapper,children:a(L,{size:"xs",source:r.avatarUrl??""})}),a("div",{className:eX.readMore,children:i(c,{ctaNewline:!0,numLinesToShow:4,webkitLineClamp:!0,collapsible:!0,cta:h,ctaCollapse:f,children:[a(l,{display:"inline",variant:"supporting-03",dataAttributes:{"data-automation":"trip_item_comment_author_name"},children:r.displayName??m.string("trips_comment_section_unknown_user")}),i(l,{display:"inline",variant:"supporting-01",dataAttributes:{"data-automation":"trip_item_comment_text"},children:[" ",n]})]})}),_&&a("div",{className:eX.actionMenuWrapper,children:a(ey,{tripId:o,itemId:t,commentId:e,body:n,setEditComment:d})})]})},e9={commentSectionContainer:"_Z f e k",commentsWrapper:"sWhSj f e Q3 MJ",commentsWrapperForImageCard:"edEdS",addCommentWrapper:"XryEh"},e5=({comments:t,variant:e,itemId:r,actionPermissions:n,tripId:o,onExpandComments:d})=>{var l=R(),[c,s]=C({id:null,body:null}),[m,p]=C(!1),[_]=M({query:S,variables:{userId:l}}),{localize:h}=v(),f=t||[],g=f.slice(Math.max(0,f.length-2),f.length),y=!!f.length,I=g.length<f.length,b=!!c.body,T=f.some(t=>t?.comment?.author?.userId===l),A=_.data?.memberProfiles?.[0]?.avatar?.photoSizes?.[0]?.url??null;return i("div",{className:e9.commentSectionContainer,children:[y?i("div",{className:w(e9.commentsWrapper,{[e9.commentsWrapperForImageCard]:"IMAGE-CARD"===e}),children:[(m?f:g).map((t,e)=>a(eC,{author:{userId:t?.comment?.author?.userId??null,avatarUrl:t?.comment?.author?.avatar?.__typename==="MemberProfile_MediaId"&&t?.comment?.author?.avatar?.data?.__typename==="Media_PhotoResult"&&t?.comment?.author?.avatar?.data?.sizes?.[0]?t?.comment?.author?.avatar?.data?.sizes?.[0]?.url:null,displayName:t?.comment?.author?.displayName??null},itemId:r,commentId:t?.comment?.id??null,body:t?.comment?.body??null,setEditComment:s,index:e,tripId:o},t?.comment?.id)),I&&a(u,{leftAlign:!0,onClick:()=>{p(t=>!t),d?.(!m)},"data-automation":"trip_item_comment_section_expand_collapse_button",children:m?h.string("trips_comment_section_see_less"):h.string("trips_comment_section_see_all")})]}):a("div",{}),n?.canEdit&&(!T||b)&&a("div",{className:e9.addCommentWrapper,children:a(eg,{tripId:o,itemId:r,variant:e,avatarUrl:A,editComment:c,setEditComment:s})})]})},e3={triggerText:"Wb",dayRow:"APjaC k",dayText:"Vdotj",timeSection:"aUYKD I",tooltipContents:"DYmox e Q2",timeText:"ejHyH I",modalContent:"ekQpW"},e8=["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY"],e6=({hourOptions:t})=>{var[e,n]=C(!1),{localize:o}=v(),d=m(),c=h();if(T(()=>{"MOBILE"!==d&&e&&n(!1)},[d,e]),!(t||[]).some(t=>t.timeIntervals?.length))return null;var s=t=>{var{hours:e,minutes:a}=t,i=new Date;return i.setHours(e||0),i.setMinutes(a||0),c.formatDate("time_12_24",i)},p=t=>{switch(t){case"MONDAY":return o("monday_52");case"TUESDAY":return o("tuesday_52");case"WEDNESDAY":return o("wednesday_52");case"THURSDAY":return o("thursday_52");case"FRIDAY":return o("friday_52");case"SATURDAY":return o("saturday_52");case"SUNDAY":return o("sunday_52");default:return""}},_=a(l,{variant:"supporting-01",dataAttributes:{"data-automation":"trip_item_see_hours"},children:a("span",{className:e3.triggerText,children:o.string("trips_cards_see_hours")})}),f=t=>t?a("div",{className:e3.timeSection,children:t.openingTime&&t.closingTime&&a("div",{className:e3.timeText,children:a(l,{variant:"body-01",dataAttributes:{"data-automation":"trip_item_hours"},children:`${s(t.openingTime)} - ${s(t.closingTime)}`})},t?.openingTime.hours)}):a("div",{className:e3.timeSection,children:a(l,{variant:"body-01",dataAttributes:{"data-automation":"trip_item_closed_label"},children:o.string("trips_cards_closed")})}),g=t=>a("div",{className:e3.dayText,children:t?a(l,{variant:"body-01",dataAttributes:{"data-automation":"trip_item_hours_day"},children:p(t)}):a("div",{})}),y=[];e8.forEach(e=>{var a=t?.find(t=>t.day===e);a?.timeIntervals?.length||y.push({day:e,dayText:e,hours:null}),a?.timeIntervals?.forEach((t,a)=>{y.push({day:e,dayText:0===a?e:null,hours:t})})});var I=a("div",{className:e3.tooltipContents,children:y.map((t,e)=>{var a=`${e} - ${t.day}`;return i("div",{className:e3.dayRow,"data-automation":`trip_item_hours_day_${t.day}_${e}`,children:[g(t.dayText),f(t.hours)]},a)})});return a($,{icon:G,content:"MOBILE"!==d?a(Z,{fitToContent:"expand",triggeringElement:_,content:I,variant:"top-caret",alignment:"left"}):i(r,{children:[a(u,{variant:"primary-small",onClick:()=>{n(!0)},dataAttributes:{"data-automation":"trip_item_see_hours_button"},children:_}),e&&a(X,{slideFrom:"bottom",onClose:()=>n(!1),isOpen:e,bodyContentClass:e3.modalContent,children:I})]})})},e7=(t,e)=>{switch(t){case"EATERY":return e("common_Restaurant_3dd");case"ATTRACTION":return e("common_Attraction_3dd");case"ACCOMMODATION":return e("common_Hotel");case"ACTIVITY":return e("attractions.tickets_and_tours");case"NEIGHBORHOODS":return e("attractiontype.name.v3.34");default:return null}},e4=t=>{var{reviewSummary:e}=t,{rating:a,ratingCounts:i}=e||{},r=i&&i.reduce((t,e)=>"number"==typeof t&&"number"==typeof e?t+e:t,0);return a&&r?{reviewCount:r,rating:a}:void 0},at={__key:0x65b172fed965,id:"65b172fed965037d",loc:{},definitions:[]};function ae({tripItem:t,pauseQuery:e},a){var{localize:i}=v(),{price:r,duration:n}=function({locationId:t},e=!1){var[{fetching:a,data:i}]=M({query:at,variables:{locationId:t,currency:f()},pause:e});return{loading:a,price:i?.attraction?.[0]?.details?.minTicketPriceInfo?.price,duration:i?.attraction?.[0]?.details?.recommendedVisit}}({locationId:Number(t.locationId)},e||!t.locationId||a);return{bookingData:r?{ctaTitle:i.string("trips_commerce_see_options"),ctaLink:t.route?.url||"",description:i.string("trips_commerce_description")}:void 0,duration:n}}var aa=(t,e)=>eT[t]||e||tr,ai=({tripItem:t,variant:e="standard",pauseQuery:n=!1})=>{var{localize:o}=v(),{hoursOfOperation:d,locationV2:c}=t,{duration:s}=ae({tripItem:t,pauseQuery:n}),u=i("div",{className:"_W K Q1",children:[a(l,{variant:"supporting-01",children:o.string("trips_trip_item_card_duration")}),s]}),m=e7("ATTRACTION",o),p=c?.tags?.tags?.[0];return i(r,{children:[a($,{content:p?.tag?.localizedName||m,icon:p?.tagId?aa(p.tagId,K):K,dataAttributes:{"data-automation":"trip_item_destination"}}),"minimal"!==e&&s&&a($,{content:u,icon:G,dataAttributes:{"data-automation":"trip_item_duration"}}),"extended"===e&&d?.dailyTimeIntervals&&a(eb,{hourOptions:d?J(d):null,itemId:t.locationId})]})},ar=t=>{if(t.locationV2?.details?.__typename!=="LocationSelection_AttractionProductDetails")return null;var e=t.locationV2.details.productDetails?.displayDuration;return e?a(el,{variant:"long",flexibleDisplayDuration:"from"in e?e:null,fixedDisplayDuration:"durationInMinutes"in e?e:null}):null},an=({tripItem:t,variant:e="standard"})=>{var{hoursOfOperation:n}=t,o=ar(t),{localize:d}=v();return i(r,{children:[a($,{content:e7("ACTIVITY",d),icon:tr,dataAttributes:{"data-automation":"trip_item_place_type"}}),o&&a($,{content:o,icon:G,dataAttributes:{"data-automation":"trip_item_duration"}}),"extended"===e&&n?.dailyTimeIntervals&&a(eb,{hourOptions:J(n)??null,itemId:t.locationId})]})},ao=({tripItem:t})=>a($,{content:t.locationV2?.names?.longOnlyHierarchyTypeaheadV2,icon:ec,dataAttributes:{"data-automation":"trip_item_geo_location"}}),ad=t=>{switch(t){case"HOTEL":return 1;case"BB":return 2;case"OTHER":return 3;case"COLLAPSED_BB_INN":return 99;case"VR":return 6;default:return 0}},al=({accommodationCategory:t,popIndexRank:e,popIndexTotal:i,parentName:r})=>t&&r&&e&&i&&!(i<2)?a(l,{variant:"supporting-01",dataAttributes:{"data-automation":"trip_item_pop_index"},children:a(g,{id:"common_n_of_n_lodgingtype_in_geo_pl",args:{1:e,2:i,3:ad(t),4:r}})}):null,ac={popIndex:"w"},as=({tripItem:t,variant:e="standard",withPopIndex:n})=>{var{localize:o}=v(),d=t.detail?.__typename==="Hotel"?t.detail?.hotel?.providerStarRating:void 0,l=t.localizedStreetAddress?.street1;return i(r,{children:[a($,{content:d?o.string("trips_cards_star_hotel",{nHotelClass:d}):o.string("trips_cards_hotel"),icon:es,dataAttributes:{"data-automation":"trip_item_place_type"}}),"minimal"!==e&&l&&a($,{content:l,icon:ec,dataAttributes:{"data-automation":"trip_item_address"}}),"minimal"!==e&&n&&a("div",{className:ac.popIndex,children:a(al,{accommodationCategory:t.accommodationCategory,parentName:t.geoName,popIndexRank:t.popIndexDetails?.popIndexRank,popIndexTotal:t.popIndexDetails?.popIndexTotal})})]})},au=({tripItem:t,pauseQuery:e=!1,variant:n="standard"})=>{var{localize:o}=v(),d=e7("NEIGHBORHOODS",o),{duration:c}=ae({tripItem:t,pauseQuery:e},"minimal"===n),s=i("div",{style:{display:"inline-flex"},children:[a(l,{variant:"supporting-01",marginRight:"spacing-01",dataAttributes:{"data-automation":"trip_item_card_duration_label"},children:o.string("trips_trip_item_card_duration")}),c]});return i(r,{children:[a($,{content:d,icon:tM,dataAttributes:{"data-automation":"trip_item_place_type"}}),c&&a($,{content:s,icon:G,dataAttributes:{"data-automation":"trip_item_duration"}})]})},am=({tripItem:t,restaurantsHourOptionsMap:e})=>{if(t.hoursOfOperation?.dailyTimeIntervals)return a(eb,{hourOptions:J(t.hoursOfOperation)??null,itemId:t.locationId});var i=e?.get(Number(t.locationId));return i?a(eb,{hourOptions:i,itemId:t.locationId}):null},ap=({tripItem:t,restaurantsHourOptionsMap:e,variant:n="standard"})=>{var{localize:o}=v(),d=e7("EATERY",o),c=t.cuisines?.slice(0,2)||[],s=[...("minimal"!==n?c:[]).map(t=>t?.localizedName),"extended"===n?t.price?.[0]?.localizedName:null].filter(Boolean),u=ex({tripItem:t,restaurantsHourOptionsMap:e});return i(r,{children:[a($,{content:d,icon:tQ,dataAttributes:{"data-automation":"trip_item_place_type"}}),s.length>0&&a($,{content:a(l,{variant:"supporting-01",display:"inline",children:s.join(" • ")}),icon:eu,dataAttributes:{"data-automation":"trip_item_cuisines"}}),"extended"===n?u:null]})},a_=({tripItem:t,variant:e="standard"})=>{var{localize:n}=v(),o=n.string("trips_cards_vacation_rental"),d=t.locationV2?.accommodationType?.name,c=t.localizedStreetAddress?.street1;return i(r,{children:[a($,{content:o,icon:em,dataAttributes:{"data-automation":"trip_item_place_type"}}),"minimal"!==e&&c&&a($,{content:c,icon:ec,dataAttributes:{"data-automation":"trip_item_address"}}),"minimal"!==e&&d?i(l,{variant:"supporting-01",display:"inline",dataAttributes:{"data-automation":"trip_item_accommodation_type"},children:[" • ",d]}):null]})},av=({item:t,size:e})=>{var i=t.locationV2?.tags?.tags?.find(t=>t?.tagId===11066),r=t.locationV2?.tags?.tags?.[0];if(i)return a(tM,{size:e});if(t.isGeo)return a(ec,{size:e});var n=r?.tagId?aa(r.tagId,K):K;switch(t.placeType){case"ACTIVITY":return a(tr,{size:e});case"ATTRACTION":return a(n,{size:e});case"EATERY":return a(tQ,{size:e});case"ACCOMMODATION":if("VR"===t.accommodationCategory)return a(em,{size:e});return a(es,{size:e});default:return null}},ah=({item:t,restaurantsHourOptionsMap:e,variant:i="standard",pauseQuery:r=!1,tripDateType:n})=>{if(t.locationV2?.tags?.tags?.find(t=>t?.tagId===11066))return a(eN,{tripItem:t,pauseQuery:r,variant:i});if(t.isGeo)return a(eD,{tripItem:t});switch(t.placeType){case"ACTIVITY":return a(ew,{tripItem:t,variant:i});case"ATTRACTION":return a(eA,{tripItem:t,variant:i,pauseQuery:r});case"EATERY":return a(eE,{tripItem:t,variant:i,restaurantsHourOptionsMap:e});case"ACCOMMODATION":if("VR"===t.accommodationCategory)return a(eR,{tripItem:t,variant:i});return a(ek,{tripItem:t,variant:i,withPopIndex:"DATES"!==n});default:return null}},af={commerceContainer:"cSRUU f u k",buttonContainer:"o q"},ag=t=>{var e=t.ctaLink&&t.ctaTitle?a("div",{className:af.buttonContainer,children:a(s,{variant:"secondary-commerce",size:"small",href:t.ctaLink,target:"_blank",dataAttributes:{"data-automation":"trip_item_commerce_cta_button"},onClick:t.onCTAClick,children:a(l,{variant:"button-03",children:t.ctaTitle})})}):void 0;return i(ay,{children:[a(l,{variant:"supporting-03",dataAttributes:{"data-automation":"trip_item_commerce_description"},children:t.description}),e]})},ay=({children:t})=>a("div",{className:af.commerceContainer,children:t});function aC(t,e){if(e.length<t)throw TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function aI(t){aC(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):(("string"==typeof t||"[object String]"===e)&&"undefined"!=typeof console&&Error().stack,new Date(NaN))}function ab(t){return aC(1,arguments),!isNaN(aI(t))}function aT(t){return aC(1,arguments),aI(t).getTime()<Date.now()}function aA({location:t,date:e,pauseQuery:i=!1}){var{localize:r}=v(),n=i||!function(t){var e,{from:a,to:i}=t||{};if(!a||!i)return!1;var r=new Date(a),n=new Date(i);return!(!ab(r)||!ab(n)||aT(r))&&(e=Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()),30>Math.floor((Date.UTC(n.getFullYear(),n.getMonth(),n.getDate())-e)/864e5))}(e),{price:o,loading:d}=ep({location:t,checkInDate:e?.from??"",checkOutDate:e?.to??"",adults:2,rooms:1},n);return d?a(V,{variant:"small","aria-label":r.string("trips_hotel_price_card_loading_price")}):o&&!n?a(l,{variant:"title-05",display:"inline-block",dataAttributes:{"data-automation":"trip_item_hotel_price"},children:o}):null}var aw=({tripItem:t,trip:e,pauseQuery:i=!1,onCommerceClick:r})=>{var{localize:n}=v(),o=e?.date?.type==="DATES"?{ctaTitle:n.string("trips_commerce_see_rates"),ctaLink:t.route?.url||"",description:a(aA,{location:t,date:e.date,pauseQuery:i})}:void 0;return o?a(eO,{ctaTitle:o.ctaTitle,ctaLink:o.ctaLink,description:o.description,onCTAClick:r}):null},aD=({description:t,ctaText:e,ctaLink:r,onCTAClick:n})=>t&&e&&r?i("div",{className:"tQJio e G Q3",children:[a("div",{className:"AdXEG",children:a(tr,{size:20})}),a("div",{className:"VOCwX",children:a(l,{variant:"supporting-01",dataAttributes:{"data-automation":"trip_item_attraction_gai_commerce_description"},children:t})}),a("div",{className:"qCbsx",children:a(u,{variant:"primary-small",href:r,leftAlign:!0,target:"_blank",dataAttributes:{"data-automation":"trip_item_attraction_gai_commerce_cta"},onClick:n,children:e})})]}):null,ak=({description:t,ctaText:e,ctaLink:r,onCTAClick:n})=>t&&e&&r?i("div",{className:"WVEJi f e _Y G",children:[a(l,{variant:"supporting-01",dataAttributes:{"data-automation":"trip_item_attraction_non_gai_commerce_description"},children:t}),a(u,{variant:"primary-small",href:r,leftAlign:!0,target:"_blank",dataAttributes:{"data-automation":"trip_item_attraction_non_gai_commerce_cta"},onClick:n,children:e})]}):null,aN=({tripItem:t,isAIGenerated:e=!1,recommendedProduct:i,pauseQuery:r=!1})=>{var{localize:n}=v(),o=h(),{bookingData:d}=ae({tripItem:t,pauseQuery:r||e});if(e){var{pricingInfo:l,route:c,title:s}=i??{};if(l?.fromPrice&&c?.url&&s?.text){var u=o.formatCurrency(l.fromPrice),m="UNIT"===l.pricingType?n.string("phoenix_list_attractions_from_price_per_group_txt_v2",{price:u}):n.string("phoenix_product_attractions_from_price_per_person_txt_v2",{price:u});return a(ay,{children:a(ez,{description:s.text,ctaText:m,ctaLink:c.url})})}return null}return d?.ctaTitle&&d?.ctaLink&&d?.description?a(ay,{children:a(eq,{description:d.description,ctaLink:d.ctaLink,ctaText:d.ctaTitle})}):null},ax={__key:0x5bb4e9777a6d,id:"5bb4e9777a6d5aa7",loc:{},definitions:[]};function aE({locationId:t,checkInDate:e,checkOutDate:i,pauseQuery:n=!1}){var{localize:o}=v(),{price:d,loading:l}=function({locationId:t,checkInDate:e,checkOutDate:a,adults:i=2},r=!1){var[{fetching:n,data:o}]=M({query:ax,variables:{request:{propertyId:t,arrival:e,departure:a,adults:i}},pause:r||t<0||!e||!a||aT(new Date(e))}),d=o?.RentalInformation_getRentalRate?.[0]?.rentalRate,l=d?.errors?.length,c=d?.subtotal;return{loading:n,price:l?null:c}}({locationId:t,checkInDate:e,checkOutDate:i,adults:2},n);return l?a(V,{variant:"small","aria-label":"Loading price"}):d?a(r,{children:o.string("trips_commercer_price_per_night",{sPrice:d})}):null}var aR=({tripItem:t,trip:e,pauseQuery:i=!1,onCommerceClick:r})=>{var n=e?.date?.type==="DATES"?{ctaTitle:"See rates",ctaLink:t.route?.url||"",description:a(aE,{locationId:t.locationId||-1,checkInDate:e?.date?.from||"",checkOutDate:e?.date?.to||"",pauseQuery:i})}:void 0;return n?.ctaTitle&&n?.ctaLink&&n?.description?a(eO,{onCTAClick:r,ctaTitle:n.ctaTitle,ctaLink:n.ctaLink,description:n.description}):null},aS=({tripItem:t,onCommerceClick:e})=>{var i=h(),{localize:r}=v();if(t.locationV2?.details?.__typename!=="LocationSelection_AttractionProductDetails")return null;var n=t.locationV2.details.productDetails?.pricingInfo;return n?.fromPrice&&t.route?.url?a(eO,{ctaTitle:r.string("trips_commerce_see_options"),ctaLink:t.route.url,onCTAClick:e,description:a(l,{variant:"supporting-01",dataAttributes:{"data-automation":"attraction_product_commerce_element"},children:a(e_,{price:a(l,{variant:"supporting-03",display:"inline-block",children:i.formatCurrency(n.fromPrice)}),isPerGroupPricing:"UNIT"===n.pricingType})})}):null},aM=({tripItem:t,trip:e,isAIGenerated:i,recommendedProduct:r,pauseQuery:n=!1,onCommerceClick:o})=>{switch(t.placeType){case"ATTRACTION":return a(eY,{tripItem:t,isAIGenerated:i,recommendedProduct:r,pauseQuery:n});case"ACTIVITY":return a(ej,{tripItem:t,onCommerceClick:o});case"ACCOMMODATION":if("VR"===t.accommodationCategory)return a(eV,{tripItem:t,trip:e,pauseQuery:n,onCommerceClick:o});return a(eL,{tripItem:t,trip:e,pauseQuery:n,onCommerceClick:o});default:return null}},aO=(t,e,a)=>e===a?t:"MILES"===e&&"KILOMETERS"===a?1.60934*t:"MILES"===e&&"FEET"===a?5280*t:"KILOMETERS"===e&&"METERS"===a?1e3*t:.621371*t,aL=(t,e,a)=>{var i=t.latitude*eB,r=e.latitude*eB,n=Math.sin((e.latitude-t.latitude)*eB/2),o=Math.sin((e.longitude-t.longitude)*eB/2),d=n*n+Math.cos(i)*Math.cos(r)*o*o;return aO(6371*(2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d))),"KILOMETERS",a)},az=()=>y()?"MILES":"KILOMETERS";return t("CardSaveButton",eG),[()=>{ev=eP,eh=eW,ef=eF,eg=eZ,ey=e0,eC=e2,eI=e5,eb=e6,eT={10850:t5,11036:ti,11037:ts,11038:tL,11041:ts,11042:tI,11045:ts,11047:tA,11050:tL,11051:ts,11052:ts,11053:tz,11054:tA,11059:K,11061:tS,11063:tS,11064:tS,11065:tS,11067:tS,11068:tf,11072:tW,11073:tk,11076:tz,11077:tY,11081:tT,11082:tT,11083:tY,11085:tq,11089:tY,11090:tT,11091:tY,11092:tT,11093:tH,11095:tt,11096:tJ,11098:tT,11099:td,11101:tm,11106:tY,11107:tY,11108:ee,11110:te,11119:tc,11130:tU,11131:ed,11132:t1,11134:tT,11142:t1,11143:t1,11144:en,11145:en,11146:ed,11147:te,11149:t$,11150:t$,11152:t$,11154:t0,11155:t$,11158:tS,11159:et,11160:K,11162:tf,11163:et,11168:ts,11169:en,11183:tP,11184:tZ,11197:t0,11207:tp,11225:tC,11864:tw,11867:t2,11871:t$,11878:t2,11879:tg,11881:tR,11885:tp,11887:tp,11888:et,11889:t2,11890:tQ,11891:en,11899:tr,11900:tr,11901:tr,11902:tm,11903:tY,11904:tJ,11908:t5,11909:te,11911:td,11912:tZ,11917:tg,11918:t7,11919:tg,11921:ei,11922:t2,11923:th,11924:tQ,11927:ed,11928:t9,11929:t9,11930:t6,11931:tL,11932:et,11933:tp,11934:t3,11938:tR,11939:tF,11941:tC,11942:tC,11944:te,11948:tv,11949:tY,11952:eo,11953:en,11962:tT,11963:tp,11964:tp,11965:tp,11966:et,11968:tp,11969:tl,11970:tD,11971:tT,11973:tD,11974:tV,11976:tX,12009:td,12010:tG,12011:tn,12013:tL,12019:tP,12021:tZ,12023:et,12025:tw,12026:tw,12027:ea,12028:t_,12029:ts,12030:t4,12031:t5,12032:t3,12033:to,12034:tE,12035:t8,12036:tp,12038:tj,12040:t1,12041:tC,12042:tK,12043:tU,12044:t6,12046:tt,12047:tx,12052:er,12053:ty,12054:tO,12056:tB,12057:tO,12058:t6,12061:tZ,12062:tN,12063:th,12065:er,12066:tI,12067:tT,12068:tG,12071:tb,12073:tu,12074:tr,12075:tM,12076:tG,12077:ta,12080:tq,20375:t$,20386:te},eA=ai,ew=an,eD=ao,ek=as,eN=au,ex=am,eE=ap,eR=a_,eS=av,eM=ah,eO=ag,eL=aw,ez=aD,eq=ak,eY=aN,eV=aR,ej=aS,eU=aM,eB=Math.PI/180,t({AttractionIconContent:eA,AttractionProductIconContent:ew,CardCommentElement:eI,CardDescriptionElement:eh,CardHeaderElement:ev,CardMediaElement:ef,CardSaveButton:eG,GeoIconContent:eD,HotelIconContent:ek,NeighborhoodIconContent:eN,RestaurantIconContent:eE,TripLocationCommerceElement:eU,TripLocationIcon:eS,TripLocationIconContent:eM,VacationRentalIconContent:eR,convertDistance:aO,getAttractionIcon:aa,getLocationReviewData:e4,haversineDistance:aL,reverseMapAccommodationCategory:ad,useDistanceUnit:az})},[t=>(a=t.jsx,i=t.jsxs,r=t.Fragment),t=>(n=t.CardHeader,o=t.CardMedia),t=>d=t.BubbleRatingWithReviewCount,t=>l=t.default,t=>c=t.ReadMore,t=>(s=t.default,u=t.BorderlessButton),t=>m=t.useViewportCategory,t=>p=t.CdnImage,t=>(_=t.default,v=t.useLocalize,h=t.useIntlFormatter,f=t.useCurrency,g=t.UnsafeLocalize,y=t.useIsMiles),t=>(C=t.useState,I=t.useContext,b=t.useMemo,T=t.useEffect,A=t.useCallback),t=>w=t.default,t=>D=t.default,t=>k=t.default,t=>N=t.default,t=>x=t.default,t=>E=t.default,t=>R=t.useUserId,t=>S=t.GetUserAvatar,t=>M=t.useQuery,t=>O=t.useTripMutation,t=>L=t.Avatar,t=>z=t.default,t=>(q=t.Toast,Y=t.ToastItem),t=>V=t.Spinner,t=>j=t.useSavesInteractionLogger,t=>U=t.getTripPageTabFromFragment,t=>B=t.useRoute,t=>P=t.PopoverMenu,t=>H=t.default,t=>W=t.default,t=>Q=t.default,t=>F=t.default,t=>G=t.default,t=>K=t.default,t=>($=t.IconDetail,J=t.convertToHourOptions),t=>Z=t.HoverTooltip,t=>X=t.default,t=>tt=t.default,t=>te=t.default,t=>ta=t.default,t=>ti=t.default,t=>tr=t.default,t=>tn=t.default,t=>to=t.default,t=>td=t.default,t=>tl=t.default,t=>tc=t.default,t=>ts=t.default,t=>tu=t.default,t=>tm=t.default,t=>tp=t.default,t=>t_=t.default,t=>tv=t.default,t=>th=t.default,t=>tf=t.default,t=>tg=t.default,t=>ty=t.default,t=>tC=t.default,t=>tI=t.default,t=>tb=t.default,t=>tT=t.default,t=>tA=t.default,t=>tw=t.default,t=>tD=t.default,t=>tk=t.default,t=>tN=t.default,t=>tx=t.default,t=>tE=t.default,t=>tR=t.default,t=>tS=t.default,t=>tM=t.default,t=>tO=t.default,t=>tL=t.default,t=>tz=t.default,t=>tq=t.default,t=>tY=t.default,t=>tV=t.default,t=>tj=t.default,t=>tU=t.default,t=>tB=t.default,t=>tP=t.default,t=>tH=t.default,t=>tW=t.default,t=>tQ=t.default,t=>tF=t.default,t=>tG=t.default,t=>tK=t.default,t=>t$=t.default,t=>tJ=t.default,t=>tZ=t.default,t=>tX=t.default,t=>t1=t.default,t=>t0=t.default,t=>t2=t.default,t=>t9=t.default,t=>t5=t.default,t=>t3=t.default,t=>t8=t.default,t=>t6=t.default,t=>t7=t.default,t=>t4=t.default,t=>et=t.default,t=>ee=t.default,t=>ea=t.default,t=>ei=t.default,t=>er=t.default,t=>en=t.default,t=>eo=t.default,t=>ed=t.default,t=>el=t.ProductDuration,t=>ec=t.default,t=>es=t.default,t=>eu=t.default,t=>em=t.default,t=>ep=t.useHotelPrice,t=>e_=t.default]]},["21h32l","6m9vgr","bkeq24","essqvy","wgun1f","jppfwt","ys6v1o","s6q22n","7thqz4","o4yt4q","fkji80","34bu7w","p9ucm8","2rns1i","dpzonz","ns8l5r","52far5","ag9b0s","mqwhqn","r6ayw2","ljqkwp","obrjv3","tr3542","qndsds","sa2a6q","iyqcwg","fgwvq1","s2gl90","mvpl5y","6g4avl","d3i8k1","55gplo","w1yg77","55nvbk","70j2tf","xm2jzo","z2nh2s","5c85y0","0hkn24","i2c6cz","cmu52y","s1ymgp","us71hn","9qbdxh","b6uhp2","euncuq","bhtf5m","chlym8","ktovr8","n7mucb","do522n","a55je0","yr8sh8","5089af","dvcr7s","x55bmb","df03dz","lzos1d","3r7emi","zthkss","ecgxx4","9d7e9m","wxjzrc","moetoc","zq967r","7dkke1","u6rc4o","cgyk2p","vwspdx","mim557","o80y56","q32oeq","9ygz84","11lu7r","rnfq5z","u9ykn9","l8yt2z","yy6083","c38d9g","gbsde2","r67plb","1k892k","apap77","o3mm96","q1iiul","wud56x","arwcu3","xnjg71","nm5bm4","nnv8q4","t5u5d2","wiwouh","wzt33p","9sov81","rz5wuh","5zxkkr","tf8ftv","vm25t0","vnfaws","yw8i09","tochuq","q78r13","ewpu2f","w9f8il","iun8xg","35mhgy","q6pt2j","ljizri","8fue0l","bug23c","bp96i9","c5q3iu","p3y1zq","3aiijo","vtj79r","ec91du"]]);
