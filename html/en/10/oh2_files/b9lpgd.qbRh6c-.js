(this.$WP=this.$WP||[]).push(["b9lpgd",(e,t)=>{var i,a,s,c,l,o,n,d,u,r,b,f,h,p,y,j,v,g,k={__key:0xaa8ed1e6a11c,id:"aa8ed1e6a11c30f3",loc:{},definitions:[]},I=e=>{var t=({variables:t})=>String(t.objectId)===String(e.objectId)&&t.objectType===e.objectType?"invalidateAndRefetch":"validate",[{data:i,fetching:a,error:s}]=v({query:k,variables:{socialObjects:[{objectId:`${e.objectId}`,objectType:e.objectType}]}},{addLikeV2:t,deleteLikeV2:t});return!a&&!s&&i&&i.socialStatistics&&i.socialStatistics.length&&i.socialStatistics[0]||null},S={__key:0xe3bc31715c2,id:"0e3bc31715c2ae47",loc:{},definitions:[]},_={__key:3032941652461,id:"02c22968e9eda078",loc:{},definitions:[]},T=({item:e,socialObject:t,onClick:v})=>{var[,k]=n(S),[,I]=n(_),T=b(),q=f(),[L]=a(u),m=y(),w=h(),[O,x]=s(null),C=c(()=>t||{objectType:j[e.__typename],objectId:String(e.id)},[t,e]),M=e.socialStatistics?.isLiked||!1,P=e.socialStatistics?.likeCount||0,U=g(C);l(()=>{x(null)},[U]);var $=d(M,(U||{}).isLiked),z=d(P,(U||{}).likeCount),A=o(()=>!0===$?I(C):k(C),[$=null===O?$:O,C,I,k]),E=o(()=>e=>{e.addLike?.statusType==="NO_PERMISSION"&&L({node:i(r,{children:i(p,{id:"social_no_permission"})}),timeout:8e3})},[L]);return[o(()=>{w({flowOrigin:"login",pid:40469}).then(()=>{v&&v();var e={actorUserId:q,uid:T};m({UgcDetail:!0===$?{unhelpful:e}:{helpful:e}}),x(!$)}).then(A).then(E)},[$,x,A,E,w,m,v,q,T]),!0===$,z||0]};return[()=>{g=I,e("useLikeAction",T)},[e=>i=e.jsx,e=>(a=e.useContext,s=e.useState,c=e.useMemo,l=e.useEffect,o=e.useCallback),e=>n=e.useMutation,e=>d=e.default,e=>(u=e.Toast,r=e.ToastItem),e=>b=e.usePageviewUid,e=>f=e.useUserId,e=>h=e.default,e=>p=e.default,e=>y=e.useInteractionLogger,e=>j=e.SocialObjectTypeMap,e=>v=e.useInvalidatableQuery]]},["21h32l","o4yt4q","mqwhqn","fbyv8z","tr3542","fgwvq1","52far5","lchj5q","7thqz4","32pwc7","nev0g8","fbuhsy"]]);
