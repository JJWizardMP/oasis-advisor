(this.$WP=this.$WP||[]).push(["ejmcf4",(e,r)=>{var t,a,d,i,n,o,l,s,u,c,m,g,I,p,O,y,f,b,v,C,h,k,A=({businessContact:e,mobileOffer:r,desktopOffer:a,adSlot:i,albumId:n,categoryId:o,typeId:l,mediaId:s,referenceMediaId:u,openDetailAtOffset:c,locationId:m,locationName:g,secondaryTitleContent:I,actionHandler:p,enablePopupFooter:O,hideMASQuickAlbums:y,disableControls:h,getShareUrlForMedia:k,firstMediaOverride:A,galleryRenderer:R,fullscreenRenderer:S,sort:E,customMobileButtonMenus:M,quickAlbumsConfiguration:T,queryClientOverride:L,heroDataStrategyOverride:w,pageDataStrategyOverride:D,mediaFilterOverride:N,trackingCallback:_,footerContent:q,customHeader:F})=>t(b,{children:t(d,{children:t(f,{mobileRenderer:()=>t(C,{businessContact:e,offer:r,actionHandler:p,categoryId:o,albumId:n,typeId:l,mediaId:s,referenceMediaId:u,openDetailAtOffset:c,locationId:m,locationName:g,getShareUrlForMedia:k,scrollHideCommerce:O,skipQuickAlbums:y,disableControls:h,customButtonMenus:M,firstMediaOverride:A,galleryRendererOverride:R,fullscreenRendererOverride:S,sort:E,quickAlbumsConfiguration:T,queryClientOverride:L,heroDataStrategyOverride:w,pageDataStrategyOverride:D,mediaFilterOverride:N,trackingCallback:_,footerContent:q}),desktopRenderer:()=>t(v,{businessContact:e,offer:a,adSlot:i,actionHandler:p,categoryId:o,albumId:n,typeId:l,mediaId:s,referenceMediaId:u,openDetailAtOffset:c,locationId:m,locationName:g,secondaryTitleContent:I,getShareUrlForMedia:k,skipQuickAlbums:y,disableControls:h,firstMediaOverride:A,galleryRendererOverride:R,fullscreenRendererOverride:S,sort:E,quickAlbumsConfiguration:T,queryClientOverride:L,heroDataStrategyOverride:w,pageDataStrategyOverride:D,mediaFilterOverride:N,trackingCallback:_,customHeader:F,footerContent:q})})})}),R={__key:0xd33056559f8f,id:"d33056559f8f8ae9",loc:{},definitions:[]},S=e=>{var r=e?.albumId||I;return g({albumId:r,mediaId:e?.mediaId,categoryId:r})},E=e=>{var{locationId:r,initialSettings:a,hideHeaderControls:d,hideMASQuickAlbums:i,mobilePortraitFooterSlot:g,enablePopupAnimationMobilePortraitFooter:I,mobileLandscapeHeaderSlot:f,desktopHeaderRightSlot:b,businessContact:v,leftRailSlot:C,onClose:A,actionHandler:E,getShareUrlForMedia:M,firstMediaOverride:T,galleryRenderer:L,fullscreenRenderer:w,customMobileButtonMenus:D,routeFragmentIdentifier:N,queryClientOverride:_,heroDataStrategyOverride:q,pageDataStrategyOverride:F,mediaFilterOverride:U,quickAlbumsConfiguration:H,trackingCallback:B,numberOfReviews:G,averageRating:Q,customHeader:j,footerContent:P}=e,[V,W]=n({isOpen:!1,shouldToggle:!1,lock:!1,hasOpened:!1}),[x,Y]=l(o((e,r)=>{try{E?.(r)}catch(e){r.type}switch(r.type){case"ROUTE_NAVIGATE":return{...r.newState,sort:e.sort};case"ALBUM":return{...e,albumId:r.albumId,typeId:c(),categoryId:r.categoryId?r.categoryId:r.albumId,mediaId:r.referenceCompoundMediaId};case"FULLSCREEN_NAV":case"GALLERY_CLICK":if(r.newMedia.media)return{...e,mediaId:{id:r.newMedia.media.mediaId,type:r.newMedia.media.type}};return e;case"FULLSCREEN_CLOSE":case"INVALIDATE_REFERENCE_MEDIA":return{...e,mediaId:null};case"CATEGORY_CHANGE":return{...e,categoryId:r.categoryId};case"SOURCE_CHANGE":return{...e,typeId:r.typeId};case"SORT":return{...e,sort:r.sort};case"CLOSE":return W(e=>e.isOpen?{...e,isOpen:!0,shouldToggle:!0}:e),e;case"ERROR":return k;default:return e}},[E]),S(a)),$=null!=N,{clearFragment:z,initialRouteState:K}=p(r,$&&V.isOpen?x:null,N,Y);s(()=>{a&&!V.isOpen&&(Y({type:m.routeNavigate,newState:S(a)}),W(e=>({...e,isOpen:!1,shouldToggle:!0})))},[a,W,V]),s(()=>{!$||!K||a||V.isOpen||V.hasOpened||V.lock||(Y({type:m.routeNavigate,newState:K}),W(e=>({...e,isOpen:!1,shouldToggle:!0})))},[$,K,a,V,W]),s(()=>{!V.shouldToggle||(V.isOpen&&V.lock?W(e=>({...e,isOpen:!1,shouldToggle:!1,lock:!1})):V.isOpen||V.lock||W({isOpen:!0,shouldToggle:!1,lock:!0,hasOpened:!0}))},[V,W]),s(()=>{V.isOpen&&V.shouldToggle&&($&&z(),A&&A())},[V,A,$,z]);var J=e=>e&&f?f():!e&&g?g():null;if(!V.isOpen)return null;var X=a?.albumId||K?.albumId,Z=a?.mediaId||K?.mediaId;return t(u,{query:R,variables:{locationId:r},children:({data:e})=>{var n=e?.locations?.[0]?.name,o=e?.locations?.[0]?.reviewSummary,l=Q??o?.rating,s=G??o?.count,u=l&&l>=0&&s&&s>0;return t(h,{enablePopupFooter:I,businessContact:v,mobileOffer:(f||g)&&J,desktopOffer:b,adSlot:C,albumId:x.albumId,categoryId:x.categoryId,typeId:x.typeId,mediaId:x.mediaId,referenceMediaId:x.albumId===X&&x.mediaId?Z:null,openDetailAtOffset:a?.openDetailAtOffset,locationId:r,locationName:n,secondaryTitleContent:o&&u?t(O,{rating:Q||o.rating||0,numReviews:G||o.count||0}):void 0,actionHandler:Y,hideMASQuickAlbums:i,disableControls:d,getShareUrlForMedia:M,firstMediaOverride:T,galleryRenderer:L,fullscreenRenderer:w,sort:x.sort,customMobileButtonMenus:D,quickAlbumsConfiguration:H,queryClientOverride:_,heroDataStrategyOverride:q,pageDataStrategyOverride:F,mediaFilterOverride:U,trackingCallback:B,footerContent:P,customHeader:j?.(()=>Y({type:y.close}),n,o&&u?t(O,{rating:Q||o.rating||0,numReviews:G||o.count||0}):void 0)})}})};return[()=>{v=i(()=>r("ae77w6")),C=i(()=>r("jbkpvh")),h=a(A),k=S(),e("default",a(E))},[e=>t=e.jsx,e=>(a=e.memo,d=e.Suspense,i=e.lazy,n=e.useState,o=e.useCallback,l=e.useReducer,s=e.useEffect),e=>u=e.Query,e=>(c=e.getCurrentAllMediaGroupTypeId,m=e.actions,g=e.buildDefaultState),e=>I=e.ALL_ALBUMS_ALBUM_ID,e=>p=e.useRouteHandler,e=>O=e.BubbleRatingWithReviewCount,e=>y=e.mvActions,e=>f=e.default,e=>b=e.ErrorBoundary]]},["21h32l","o4yt4q","mqwhqn","3w1vrt","4ecb70","b53rh8","bkeq24","ykge6s","8rtacq","83pm0d"]]);
