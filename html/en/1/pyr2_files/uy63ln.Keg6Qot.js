(this.$WP=this.$WP||[]).push(["uy63ln",(e,t)=>{var r,i,a,n,s,l,o,c,d,u,h,p,v,g,m,_,f,w,y,b,T,S,N,R,C,E,I,A,L,x,k,O,M,F,P,D,H,V,q,G,j,$,U,B,z,W,X,Q,Y,Z,J,K,ee,et,er,ei,ea,en,es,el,eo,ec,ed,eu,eh,ep,ev,eg,em,e_,ef,ew,ey,eb,eT,eS,eN,eR,eC,eE,eI,eA,eL,ex,ek,eO,eM,eF,eP,eD,eH,eV,eq,eG,ej,e$,eU,eB,ez,eW,eX,eQ,eY,eZ,eJ,eK,e0,e2,e3,e6,e5,e1,e4,e8,e9,e7,te,tt,tr,ti,ta,tn,ts,tl,to,tc,td,tu,th,tp,tv,tg,tm,t_,tf,tw,ty={disclaimer:"YQSVm S2 i d w"},tb=({review:e,className:t})=>{var i,a,l,o=(i=e.mgmtResponse,a=e.provider,l=s(),i?l(a&&a.isLocalProvider?"MANAGEMENT":"MANAGEMENT_PARTNERS"):null);return o?r("div",{className:n(ty.disclaimer,t),children:o}):null},tT={tipline:"Pb",tiplead:"tkWaG b",linkline:"RIvfn Md Nb MC NC"},tS=(e,t)=>{if(!e||e.length<=t)return e;if(t<3)return"";var r=e.lastIndexOf(" ",t-3);return r<t/2&&(r=t-3),`${e.substring(0,r)}...`},tN=()=>(p("hr-community-tab").emit("selectTab","RoomTips",!0),!1),tR=({tipText:e,isSeeMoreLinkEnabled:t})=>{var{localize:n}=c();return e?i(a,{children:[i("div",{className:tT.tipline,children:[r("span",{className:tT.tiplead,children:n("room_tip_colon_f4")})," ",r("span",{dangerouslySetInnerHTML:{__html:tS(e||"",100)}})]}),t&&r("div",{className:`taLnk ${tT.linkline}`,onClick:tN,children:n("see_more_room_tips_f4")})]}):null},tC=({review:e,isSeeMoreLinkEnabled:t=!0})=>r(tR,{tipText:e&&e.roomTip,isSeeMoreLinkEnabled:t}),tE=e=>(e||"").replace(/[&<>"'\n\u0086\u0087]|&#?[0-9a-zA-Z]+;/g,e=>eL[e]||e),tI=e=>e&&e.match(/^(ar|iw)/i)?"rtl":"ltr",tA={overlayContainer:"Mjrrg",buttonDiv:"jngyZ",reviewText:"dULAC",translateModal:"NAWdx _T _Z o y"},tL=e=>/^zh..$/.test(e)?`${e.substring(0,2)}-${e.substring(2)}`:e,tx=({myLang:e,sourceLang:t,locationId:a,geoId:s,reviewId:l,reviewTranslationType:o,showOverlay:d,isReviewText:u,url:h,onClick:p})=>{var{localize:v}=c();if(o||!(e&&t&&a&&s&&l)||e.substring(0,2)===t.substring(0,2))return null;var w=tL(t),y=void 0!==h?h:`/MachineTranslation?g=${s}&d=${a}&r=${l}&page=review&sl=${w}&tl=${e}`,b=`GoogleTranslation_${l}`;return i("div",{className:n(tA.buttonDiv,u?tA.reviewText:null),children:[r(g,{type:"secondary",size:"small",onClick:()=>{p&&p(),d(b)},children:v("mobile_google_translation")}),r(_,{name:b,children:r("div",{className:tA.overlayContainer,children:r(f,{url:y,responseType:"html",children:({loading:e,data:t})=>e||!t?r(m,{height:"300px",marginTop:"16px"}):r("div",{className:tA.translateModal,dangerouslySetInnerHTML:{__html:t}})})})})]})},tk=({review:e})=>e?r(S,{objectEventType:"onFullReview",object:e,actor:e.userProfile||{},isEmbedded:!1}):null,tO={flex_grid:"pDrIj f z",flex_item:"MtByY _T",use1x1:"PNjsP",use2x1:"wfskf",use3x1:"PfFfr",hasCTA:"MIzNL"},tM=(e,t,r,i)=>{window.require(["trjs!actions/openRespPhotoViewer"],a=>{a.open(e,e.currentTarget,t,r,i,2)})},tF=({photos:e,locationId:t,geoId:s,allowMediaViewer:l})=>{var o=e&&e.length-3,c=N((e,r)=>{l?O("hr_mediaviewer_mas")&&M(t,107,r):tM(e,t,s,r)},[t,s,l]),d="";if(!e||0===e.length)return null;if(e)switch(e.length){case 1:d=n(tO.flex_item,tO.use1x1);break;case 2:d=n(tO.flex_item,tO.use2x1);break;default:d=n(tO.flex_item,tO.use3x1)}return r("div",{className:tO.flex_grid,children:e&&e.filter(e=>!!e).slice(0,3).map((e,t)=>{var n=i(a,{children:[2===t&&o>0&&i("span",{className:tO.hasCTA,children:["+",o]}),r(k,{sources:e.photoSizes,width:"100%",height:"128px"})]});return r("div",{className:d,onClick:t=>c(t,e.id),children:n},e.id||t)})})},tP=({photos:e,locationId:t,geoId:i,allowMediaViewer:a})=>{var n=(e||[]).filter(e=>!!e&&e.statuses.includes("PUBLISHED")).slice(0,4);return n&&n.length?r(eM,{photos:n,locationId:t,geoId:i,allowMediaViewer:a}):null},tD=({review:e,allowMediaViewer:t})=>r(tP,{photos:e.photos,locationId:e.location?.locationId,geoId:e.location?.parentGeoId,allowMediaViewer:t}),tH={containerStyles:"ajLyr",reviewText:"MInAm _a",ctaLine:"rMVaK",header:"nNoCN n",responseDate:"miiHC",ctaCollapse:"ywcNw _S",cta:"HpbNq _S",caret:"diVSr",avatarContainer:"LOrZF",responseMenu:"JrHOP"},tV=()=>i("div",{className:tH.ctaLine,children:[r("span",{className:tH.cta,children:r(o,{id:"common_Read_more"})}),r(F,{className:tH.caret,name:"caret-down"})]}),tq=()=>i(a,{children:[r("span",{className:tH.ctaCollapse,children:r(o,{id:"common_Readless"})}),r(F,{className:tH.caret,name:"caret-up"})]}),tG=e=>{var{localize:t}=c(),a=d(),{ownerResponse:s,userProfile:l,username:o,connectionToSubject:u,publishedDate:h,locationName:p,reviewId:v,text:g,language:m,expanded:_,header:f,expandReviews:w,translationType:y,additionalClassName:b,alwaysShowReadMore:T}=e,S=P();if(!g||"MACHINE"===y&&!S)return null;var N=_?g:g.replace(/\n/g," "),R=i("div",{className:n(tH.containerStyles,b),children:[r("div",{className:tH.avatarContainer,children:r(B,{size:"small",alt:""})}),i("div",{children:[i("div",{className:tH.header,children:[o&&u&&t("hsx_management_response_header",{0:o,1:u,2:p}),h&&r("div",{className:tH.responseDate,title:h,children:q(new Date(h))?t("relative_dates_responded_caps",{0:G(new Date(h),t,a)}):t("absolute_dates_responded_caps",{0:j(new Date(h),a)})})]}),f,r(H,{collapsible:!0,cta:tV(),ctaCollapse:tq(),ctaNewline:!0,alwaysShowReadMore:T||!1,collapsed:!_,initialDivHeight:20,clickCallback:e=>("CTA"!==e&&("CONTENT"!==e||_)?"CTA_COLLAPSE"===e&&_&&w([v],!1):w([v],!0),!1),numLinesToShow:3.25,children:r("span",{className:tH.reviewText,children:r(V,{contentLanguage:m||"",children:r("span",{dangerouslySetInnerHTML:{__html:tE(N)}})})})})]}),r("div",{className:tH.responseMenu,children:r(z,{closeOverflowOnScroll:!0,sectionObject:s,sectionActor:l,overrideItems:{FOLLOW:!1,UNTAG:!1},deleteObject:null})})]});return"MACHINE"===y?r(D,{children:R}):R},tj=e=>"SHIP"===e,t$=(e,t,r,i)=>{if("SHIP"===r)switch(e){case 0:return i.string("cruise_review_cabin_type",t);case 1:return i.string("cruise_review_type_of_trip",t);case 2:return i.string("cruise_review_destination",t)}return""},tU=(e,t,r)=>{switch(e){case"ACCOMMODATION":return r.string("Date_of_stay",t);case"AIRLINE":case"CAR_RENTAL_OFFICE":return r.string("Date_of_travel",t);case"ACTIVITY":case"ATTRACTION":return r.string("Date_of_experience",t);case"EATERY":return r.string("Date_of_visit",t);case"SHIP":return r.string("cruise_review_sail_date",t)}return""},tB=({rating:e,labels:t,placeType:a})=>i("div",{className:"IkECb f O",children:[r("div",{className:"Hlmiy F1","data-test-target":"review-rating",children:e?r(W,{rating:e}):null}),(()=>{if(tj(a)||null==t||0===t.length)return null;var e=[];return t.forEach(t=>{e.push(r("div",{className:"dmRSR n R2 S2",children:t}))}),r("div",{className:"tNvbV f Ng",children:e})})()]}),tz=({review:e})=>r(tB,{rating:e.rating,labels:e.labels,placeType:e.location&&e.location.placeType}),tW=({text:e,type:t,color:i,foldedSize:a,foldedAlign:s,customClassNames:l,onClick:o})=>r("div",{className:n("ui_ribbon",l,{...t&&{[t]:"folded"!==t},..."folded"===t?{...a&&{[a]:"folded"!==a},...s&&{[s]:"folded"!==s}}:{},...i&&{[i]:"default"!==i}}),onClick:o,children:e}),tX=(e,t)=>{if(e.accommodationCategory){if("HOTEL"===e.accommodationCategory)return t.string("hotels_favorite");if("COLLAPSED_BB_INN"===e.accommodationCategory)return t.string("Innkeepers_Favorite_Review")}return t.string("Propertys_Favorite_Review")},tQ=({locationInfo:e,index:t,preferredReviewIds:a,review:n,injectHeader:s,renderPhotos:l,renderHeader:o,renderMainCol:d})=>{var{localize:u}=c(),h=tX(e,u);return i(R,{children:[s||null,o(),l(),r(Y,{onVisible:()=>{X({module:"Reviews",action:"review_in_view",value:t,context:n.id.toString()})},children:e=>i("div",{ref:e,className:"WAllg _T","data-reviewid":n.id,children:[a&&a[0]===n.id?r(eH,{type:"flat-right",text:h,color:"primary"}):null,d()]})})]},n.id)},tY=({slots:e,queryProps:t,injectHeader:i,index:a})=>r(tQ,{locationInfo:t.reviewList&&t.reviewList.locationInfo,index:a,preferredReviewIds:t.reviewList&&t.reviewList.preferredReviewIds,review:t.review,injectHeader:i,renderHeader:()=>e.header?e.header(t):null,renderPhotos:()=>e.photos?e.photos(t):null,renderMainCol:()=>e.mainCol?e.mainCol(t):null},t.review.id),tZ=({title:e,i18nlanguage:t,language:i,originalLanguage:a,translationType:n,reviewId:s,url:l})=>{var o={};"MACHINE"===n&&a&&(o.lang=`${t}-x-mtfrom-${a}`);var c=K({module:"Reviews",action:"review_title_click",context:s.toString()});return r("div",{className:"KgQgP MC _S b S6 H5 _a",dir:tI(i),"data-test-target":"review-title",children:r(Z,{target:"_blank",rel:"noopener",onClick:()=>{c()},href:l,className:"Qwuub",children:r("span",{...o,children:r("span",{dangerouslySetInnerHTML:{__html:tE(e||"")}})})})})},tJ={ratings:"ZzICe Me f",rating:"hemdC S2 H2",large:"WWOoy",bubbleRating:"Nd"},tK=({additionalRatings:e,isLoading:t,largeBubbles:a})=>{var{localize:s}=c();return t?r(m,{height:"10px",marginTop:"10px"}):e&&e.length?r("div",{className:tJ.ratings,children:e.map(e=>i("div",{className:n(tJ.rating,a?tJ.large:null),children:[r("span",{className:tJ.bubbleRating,children:r(W,{rating:e.rating})}),r("span",{dangerouslySetInnerHTML:{__html:s.string(e.ratingLabel)}})]},e.ratingLabel))}):null},t0=({review:e,location:t})=>r(tK,{isLoading:!1,additionalRatings:e.additionalRatings,largeBubbles:t?.placeType==="ACCOMMODATION"}),t2={event_date:"teHYY _R Me S4 H3",bold:"usajM"},t3=({stayDate:e,placeType:t})=>{var{localize:i}=c(),a=d();return tj(t)?null:e?r("span",{dangerouslySetInnerHTML:{__html:tU(t,{0:t2.bold,1:a.formatDate("date_full_month_year",new Date(e))},i)},className:t2.event_date}):null},t6=({review:e})=>r(t3,{stayDate:e.tripInfo&&e.tripInfo.stayDate,placeType:e.location&&e.location.placeType}),t5={event_detail:"SrZBX Me f",event_key:"SFNCM Me S4 H3",bold:"wSCXE"},t1=({labels:e,placeType:t})=>{var{localize:i}=c();return null==e||0===e.length?null:r(a,{children:e.map((e,a)=>{var n={0:t5.bold,1:e};return r("div",{className:t5.event_key,children:r("span",{dangerouslySetInnerHTML:{__html:t$(a,n,t,i)}})},t5.event_key)})})},t4=({stayDate:e,placeType:t,labels:a})=>{var n=d(),{localize:s}=c();if(!tj(t))return null;if(e){var l=tU(t,{0:t5.bold,1:n.formatDate("date_full_month_year",new Date(e))},s);return null==a||0===a.length?null:i("div",{className:t5.event_detail,children:[r("div",{className:t5.event_key,children:r("span",{dangerouslySetInnerHTML:{__html:l}})}),r(t1,{labels:a,placeType:t})]})}return null},t8=({review:e})=>r(t4,{stayDate:e.tripInfo&&e.tripInfo.stayDate,placeType:e.location&&e.location.placeType,labels:e.labels}),t9={trip_type:"TDKzw _R Me"},t7=({isLoading:e,tripType:t})=>{var i,a,{localize:n}=c();if(e)return r(m,{height:"10px",marginTop:"10px"});switch(t){case"BUSINESS":a=1;break;case"COUPLES":a=2;break;case"FAMILY":a=3;break;case"FRIENDS":a=4;break;case"SOLO":a=5;break;default:a=null}if(a){var s=n.string("triptype_desc_sentence_pl",{0:a});i=n.string("trip_type_sentence",{0:s})}return i?r("span",{dangerouslySetInnerHTML:{__html:i},className:t9.trip_type}):null},re=({review:e})=>r(t7,{tripType:e.tripInfo&&e.tripInfo.tripType,isLoading:!1}),rt={disclaimer:"JnvAa o Md S2",question:"khoOz",question_wrapper:"Zfppk"};function rr({loggedUserLocationOwner:e}){var{localize:t}=c(),a=t.string("hr_review_attribution_reppro_flyout");return i("div",{className:"IIgXd o Md S2",children:[r("span",{onClick:e=>{"A"===e.target.tagName&&X({module:"Reviews",action:"review_reppro_attribution_click"})},className:"lGiOh",dangerouslySetInnerHTML:{__html:e?t.string("hr_review_attribution_reppro_v2",{0:"/business/reputationpro",1:""}):t.string("hr_review_attribution_reppro")}}),r(ee,{above:!0,message:a,onShow:()=>X({module:"Reviews",action:"review_reppro_attribution_flyout_hover"}),children:e=>r("div",{ref:e,className:"VZFco",children:r(F,{name:"information-circle",className:"yJDAk"})})})]})}var ri=e=>e.string("RCP_attribution_generic_hotel_fffff20a"),ra=(e,t)=>{if(t)switch(t){case"ATTRACTION":return e.string("RCP_attribution_generic_attraction_fffff20a");case"EATERY":return e.string("RCP_attribution_generic_restaurant_fffff20a");case"AIRLINE":return e.string("RCP_attribution_generic_airlines")}return ri(e)},rn=(e,t,r)=>t?e.string("RCP_attribution_branded_fffff20a",{0:t}):ra(e,r),rs=({mcid:e,attribution:t,placeType:a})=>{var{localize:n}=c();if(e&&(t||""===t)){var s=rn(n,t,a);return i("div",{className:rt.disclaimer,children:[s,r(ee,{above:!0,message:n("rcp_review_attribution_update"),children:e=>r("div",{ref:e,className:rt.question_wrapper,children:r(F,{name:"information-circle",className:rt.question})})})]})}return null},rl=({checkRepProAttribution:e,review:t,location:i})=>{var a=ez.has(t.mcid)&&new Date(t.publishedDate)>eW;return e&&a?r(rr,{loggedUserLocationOwner:i.currentUserOwnerStatus?.isValid}):r(rs,{attribution:t.attribution,mcid:t.mcid,placeType:i?.placeType})},ro=e=>{var{review:t,readonlyMode:i,showOverlay:a,userId:n}=e;return!t||"MACHINE"!==t.translationType||0>=(t.mtProviderId||-1)?null:r(et,{children:r(C,{children:r(eQ,{review:t,readonlyMode:i,userId:n,showOverlay:a})})})},rc=({children:e})=>r("div",{className:n("aBbCw b S4 H4"),children:e}),rd={word_button_primary:"SaMXJ Md S2 n",word_button_secondary:"JDpQB Md S2 n",button_wrap:"OBlIq"},ru="rating",rh="safety",rp="travelType",rv="travelTime",rg="language",rm="text",r_="classOfService",rf="route",rw="showMT",ry="sortType",rb="sortBy",rT="connectionsFirst",rS="FAVORABLE_RATING",rN="ML_SORTED",rR={ACCOMMODATION:"Hotels",ACTIVITY:"Experiences",AIRLINE:"Flights",ALL:"Hotels",ATTRACTION:"Experiences",EATERY:"Restaurants",SHIP:"Cruises"},rC=(e,t)=>{var r=[],i=t.reviewList.filters[rm]||[],a=t.reviewList.filters[rg]||[];i.forEach(e=>{"TEXT"===e.axis&&e.selections&&e.selections.forEach(e=>{e&&e.split(" ").forEach(e=>{e&&""!==e&&r.push(e)})})});var n="en"===y(e);return a.forEach(e=>{"LANGUAGE"===e.axis&&e.selections&&e.selections.forEach(e=>{e&&""!==e&&"en"!==e&&(n=!1)})}),{...t,keywords:n?t.reviewList.keywords:[],query:r.join(" ")}},rE={setQuery:e=>{var t=(e||"").trim();return""===t?U.changeFilters({[rm]:[]}):U.changeFilters({[rm]:[{axis:"TEXT",selections:[t]}]})}},rI=(e,t,i,a,n)=>{var s,l=` ${e} `,o=()=>{""!==e&&i("")},c=(t,r)=>{var n=` ${t} `,s=l.indexOf(n)>=0;s?i(l.replace(n," ").trim()):i(`${e} ${t}`),X({module:"Reviews_Controls",action:"click_tag_cloud",context:t,value:s?0:1}),r({businessUnit:rR[a],elementType:t,actionName:"REVIEW_FILTER_TAG_CLOUD",itemAttributes:{filter_value:s?0:1}})},d=[];return t&&t.length>0&&(s=t.length>22?t.slice(0,22):t,""===e?d.push(r("button",{className:`ui_button primary small ${rd.word_button_primary}`,children:n("airm_all_reviews")},"*")):d.push(r("button",{className:`ui_button secondary small ${rd.word_button_secondary}`,onClick:e=>{e&&e.detail>0&&e.currentTarget&&e.currentTarget.blur(),o()},children:n("airm_all_reviews")},"*")),s.forEach(e=>{var t=l.indexOf(` ${e} `)>=0;d.push(r(er,{children:i=>r("button",{className:`ui_button ${t?"primary":"secondary"} small ${t?rd.word_button_primary:rd.word_button_secondary}`,onClick:t=>{t&&t.detail>0&&t.currentTarget&&t.currentTarget.blur(),c(e,i)},children:e},e)},e))})),d},rA=e=>{var{localize:t}=c();return r(eR,{...e,localize:t})},rL={icon:"GaiSk S7 H6 Vm PQ",ctaIcon:"WlvDg _S",wrapper:"rXoPE",searchInput:"abNIJ"},rx=e=>i("div",{className:rL.wrapper,children:[r(F,{name:"search",className:rL.icon}),r(ea,{...e,className:n(rL.searchInput,e.className)}),e.value&&r("span",{onClick:e.onCTAClick,children:r(F,{name:"times-circle-fill",className:rL.ctaIcon})})]}),rk=e=>{var t=e[rm]||[],r=[],i=[];return(t.forEach(e=>{"TEXT"===e.axis&&e.selections&&e.selections.forEach(e=>{e&&(i.push(e),e.split(" ").forEach(e=>{e&&""!==e&&r.push(e)}))})}),r.length<1)?[]:[{index:0,param:rm,value:i.join(","),label:r.join(" "),tracker:""}]},rO=(e,t)=>{var r=[],i=t.reviewList.filters[rm]||[],a=t.reviewList.filters[rg]||[];i.forEach(e=>{"TEXT"===e.axis&&e.selections&&e.selections.forEach(e=>{e&&e.split(" ").forEach(e=>{e&&""!==e&&r.push(e)})})});var n="en"===y(e);return a.forEach(e=>{"LANGUAGE"===e.axis&&e.selections&&e.selections.forEach(e=>{e&&""!==e&&"en"!==e&&(n=!1)})}),{...t,keywords:n?t.reviewList.keywords:[],query:r.join(" ")}},rM=e=>{var{localize:t}=c();return r(eC,{...e,localize:t})},rF={MOST_RECENT:"MOST_RECENT",ML_SORTED:"ML_SORTED"},rP=e=>e&&e[ry]===rN?rF.ML_SORTED:rF.MOST_RECENT,rD={dropdownWrapper:"SVsAL d",sortTooltipIcon:"AWFnX",inlineTooltip:"GyFaf S2 H1 _X"},rH=({reviewList:e,changePrefs:t})=>{var{localize:n}=c(),[s,l]=A(""),o=N((e,t)=>{e.stopPropagation(),l(e=>e===t?"":t)},[l]),d=N(()=>{setTimeout(()=>l(""),100)},[l]),u=N((e,t)=>i(a,{children:[e.label,e.tooltipText&&!t&&i(a,{children:[r("span",{onClick:t=>o(t,e.value),children:r(F,{name:"information-circle",className:rD.sortTooltipIcon})}),s===e.value&&r("div",{className:rD.inlineTooltip,children:e.tooltipText})]})]}),[o,s]),h=L(()=>e1.map(e=>t=>u(e,t)),[u]),p=rP(e?.prefs),v=e1.findIndex(e=>e.value===p);return i(a,{children:[n("airm_sortBy"),r("span",{className:rD.dropdownWrapper,children:r(en,{options:h,selectedIndex:v,onSelect:e=>{t(e4[e1[e].value])},onClose:d,open:!1,size:"large",allowOptionWrapping:!0,hideSelection:!0,beneathPersistentTripSearch:!0,openBelow:!0})})]})},rV={sortOverlayContainer:"oGwHH",sortMenuPrimaryText:"QbdgX b",selected:"JzMvy",sortMenuItem:"tXAlg Cj",sortTooltipIcon:"XUFpV",inlineTooltip:"ahuSd _X"},rq=({reviewList:e,changePrefs:t})=>{var[n,s]=A(""),l=N((e,t)=>{e.stopPropagation(),s(e=>e===t?"":t)},[s]),o=e=>{t(e4[e])},c=rP(e?.prefs);return r("div",{className:rV.sortOverlayContainer,children:e1.map(e=>i("div",{className:`${rV.sortMenuItem} ${c===e.value?rV.selected:""}`,children:[r(es,{name:"reviewsortoption",value:e.value,selected:c===e.value,onSelect:()=>o(e.value),children:r("span",{className:rV.sortMenuPrimaryText,children:e.label})}),e.tooltipText&&i(a,{children:[r("span",{onClick:t=>l(t,e.value),children:r(F,{name:"information-circle",className:rV.sortTooltipIcon})}),n===e.value&&r("div",{className:rV.inlineTooltip,children:e.tooltipText})]})]},e.value))})},rG=["fr-FR"];function rj(){var{localize:e}=c();return i("div",{className:"NudNn",children:[e("Disclaimer_Reviews_Control_Hamon_FR")," ",i("a",{href:"/pages/service.html",children:[e("hotel_info_about_service")," "]})]})}function r$(){var e=u(),{localize:t}=c();return rG.includes(e)?i("div",{className:"drhQP S4 Hn n d",children:[r("div",{className:"d",children:r(el,{below:!0,alignEdge:"left",closeButton:!1,contents:()=>r(rj,{}),children:(e,t)=>r("div",{ref:e,onClick:t,className:"fnBAj _S d",children:r(F,{name:"question-circle"})})})}),t("CTA_Review_Control_Hamon_FR")]}):null}var rU="ReviewList_Filters",rB=(e,t,r,i)=>{var a=e[r];if(a){var n={[i]:!0};i.split(",").forEach(e=>{n[e]=!0}),t({[r]:a.map(e=>({...e,selections:(e.selections||[]).filter(e=>!n[e])})).filter(e=>e.selections.length>0)})}},rz=(e,t,i,a)=>"ReviewRatingFilter"===e.name?r(ec,{mobile:{width:12},width:5,children:r(e.content,{reviewList:t,reviewAggregations:i,placeType:a})},e.name):"LanguageFilter"===e.name&&a?r(ec,{mobile:{shown:!1},tablet:{shown:!0,width:e.tabletWidth},children:r(e.content,{reviewList:t,placeType:a,reviewAggregations:i})},e.name):"HealthAndSafetyFilter"===e.name?r(ec,{mobile:{width:12},width:e.tabletWidth,children:r(e.content,{reviewList:t,reviewAggregations:i,placeType:a})},e.name):r(ec,{mobile:{shown:!1},tablet:{shown:!0,width:e.tabletWidth},children:r(e.content,{reviewList:t,placeType:a})},e.name),rW=(e,t,i,a)=>(e.name,r("div",{className:"UAJMm Z",children:r(e.content,{displayType:"dropdown",reviewList:t,placeType:a,reviewAggregations:i})},e.name)),rX=(e,t,n,s)=>e.length>4?i(a,{children:[r(eo,{children:e.slice(0,4).map(e=>rz(e,t,n,s))}),r(eo,{children:e.slice(4,e.length).map(e=>rz(e,t,n,s))})]}):r(eo,{children:e.map(e=>rz(e,t,n,s))}),rQ=({reviewList:e,reviewAggregations:t,showOverlay:n,changeFilters:s,filters:l,placeType:o})=>{var{localize:d}=c();return i("div",{className:"xuMDM",children:[rX(l,e,t,o),r("div",{className:"oJflF f z",children:i("div",{className:"vILgl z",children:[i("div",{className:"UXuGN q _e _h is-hidden-tablet",children:[r("div",{className:"cSCaS S4 H3 b",children:d("hs_selected_filters")}),r(ed,{actions:[{label:d.string("filter_ffffe84e"),chevron:!0,onClick:n,tracker:""}],selections:[...[].concat(...l.map(t=>t.computeFilterSettings(e.filters,d))),...rk(e.filters)],onClearSelection:(t,r)=>rB(e.filters,s,t,r)})]}),r(e2,{reviewList:e,placeType:o})]})}),r(eu,{name:rU,slideFrom:"right",bodyContentClass:"Xcsaz",header:i(a,{children:[r("div",{className:"nbpyD c S4 H3 b",children:d("filter_reviews")}),r("div",{className:"ENdvC c S4 H3 b",children:d("num_results_plural",{0:e.totalCount||0})})]}),children:()=>r(a,{children:l.map(r=>rW(r,e,t,o))})})]})},rY=({showMT:e,mtOn:t,mtOff:a})=>{var{localize:n}=c();return i("div",{className:"lsSWK H3 P4",children:[r("span",{className:"IYwrC",children:n("machine_translated_review_display_toggle")})," ",i("div",{className:"ui_radio",children:[r("input",{type:"radio",id:"autoTranslateYes",value:"true",checked:e,onChange:t}),r("label",{htmlFor:"autoTranslateYes",children:n("common_Yes")})]}),i("div",{className:"ui_radio",children:[r("input",{type:"radio",id:"autoTranslateNo",value:"false",checked:!e,onChange:a}),r("label",{htmlFor:"autoTranslateNo",children:n("common_No")})]}),r(ee,{above:!0,alignEdge:"right",message:n("machine_translated_google_disclaimer"),children:e=>r("span",{ref:e,className:"ui_icon information-circle kLIjR _m"})})]})},rZ={no_results_alert:"SFQus"},rJ=({reviewList:e,renderReview:t,clearFilters:i,listQueryProps:a,allowExpansion:n,expanded:s,enableRoundedCorners:l})=>{var{localize:o}=c(),{reviews:d}=e,{fetching:u,displayOwnerCtaLink:h}=e_(a?.location?.locationId||0);if(!d)return r(ep,{numSections:5});var p=-1;if(d.length>0){for(var v=0;v<d.length;++v)if("MACHINE"===d[v].translationType||"MACHINE_SOURCE"===d[v].translationType){p=d[v].id;break}}if(d.length<1)return r("div",{className:rZ.no_results_alert,onClick:i,children:r(eh,{variant:"warning",label:o("no_results_found"),children:r("span",{dangerouslySetInnerHTML:{__html:o.string("p13n_reviews_no_results_with_query_and_filters_2")}})})});var g=t=>t.id===p?r(te,{reviewList:e}):null,m=d.map((e,r)=>t?t({queryProps:{...a,review:e},injectHeader:g(e),index:r,hidden:n&&!s&&r>=5,enableRoundedCorners:l}):null);return!u&&h&&e.page?.offset===0&&m.splice(1,0,r(em,{locationId:a.location.locationId},"reviewWidget")),m},rK=e=>{var{root:t,location:n,reviewList:s,reviewAggregations:l,renderHeader:o,renderReviewFilters:c,renderReview:d,clearFilters:h,changePage:p,enableRoundedCorners:v}=e,g={root:t,location:n,reviewList:s,reviewAggregations:l},m=n?.placeType||"ACCOMMODATION",{page:_,path:f}=eg(),w="en-US"===u()&&"Hotel_Review"===_?10:5,[y,T]=A(!1);return r(er,{children:e=>i(a,{children:[o?o(g):null,s.hasReviews||s.isLoading?i(a,{children:[c?c({reviewList:s,reviewAggregations:l,placeType:m}):null,r(rJ,{reviewList:s,renderReview:d,clearFilters:h,listQueryProps:g,allowExpansion:!1,expanded:y,enableRoundedCorners:v})]}):null,(s.totalCount&&s.totalCount,null),s.totalCount&&s.totalCount>w&&s.page?r(ev,{total:s.totalCount,limit:s.page.limit,offset:s.page.offset,module:"Reviews",onClick:(t,r)=>{p(t),e({actionName:"REVIEW_NAV",businessUnit:rR[n?.placeType||"ALL"],elementType:t.buttonType,itemAttributes:{page_number:t.pageNumber,offset:t.offset,limit:t.limit}}),r.preventDefault()},url:e=>b(s?.locationInfo?.url||f,e.offset)}):null]})})},r0={__key:18690400991669,id:"10ffb2b639b5aa88",loc:{},definitions:[]};function r2(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var r3=[0,0,0,0,0],r6=(e,t,r)=>{if(!t)return e;var i={...e};return Object.keys(t).forEach(r=>{t&&t[r]>(e[r]||0)&&(i[r]=t[r])}),(!e[""]||r&&r>e[""])&&(i[""]=r||0),i},r5=e=>!O("hotel_review_is_thin_content")&&e?[{axis:"LANGUAGE",selections:[e]}]:[],r1=(e,t)=>{try{if(!t)return{[rg]:r5(e)};var r=JSON.parse(t);if(!r||!r.length||!r.forEach)return{};var i={};return r.forEach(e=>{var t=e0[e.axis];t&&(i[t]=i[t]||[],i[t].push(e))}),i}catch(e){return{}}},r4=(e,t,r,i)=>{try{if(!r||"{"!==r.charAt(0))return i||{};var a=JSON.parse(r);if(!a)return i||{};var n={[rw]:!!a[rw],[ry]:a[ry],[rb]:a[rb]};if(e)return{...n,[ry]:rT};if(t)return{...n,[ry]:rN,[rb]:rS};return n}catch(e){return{}}},r8=e=>`locationReviewFilters_${e}`,r9=e=>`locationReviewPrefs_${e}`,r7={filter_table:"LojWi w S4",row_label:"jRZDE Vm _S",filter_row:"XpoVm"},ie=e=>[e.string("common_Terrible"),e.string("common_Poor"),e.string("common_Average"),e.string("common_VeryGood"),e.string("common_Excellent")],it=(e,t)=>{var r=e[ru]||[],i={},a=[],n=ie(t);r.forEach(e=>{"RATING"===e.axis&&e.selections&&e.selections.forEach(e=>{i[e]=!0})});for(var s=5;s>=1;--s)i[s]&&a.push({index:0,param:ru,value:String(s),label:n[s-1],tracker:""});return a},ir=({reviewList:e,reviewAggregations:t,displayType:s,changeFilters:l,clearFilters:o,prefilterRating:u,placeType:h})=>{var p=d(),{localize:v}=c(),{ratingCounts:g}=t,m=g.reduce((e,t)=>e+t,0),_=[],f=[],w={},y=ie(v),b=e.filters[ru]||[],[T,S]=A(!1);b.forEach(e=>{"RATING"===e.axis&&e.selections&&e.selections.forEach(e=>{w[e]=!0})});var N=(e,t)=>{var r=String(e);w[r]=!w[r];var i=Object.keys(w).filter(e=>w[e]).sort();i.length?l({[ru]:[{axis:"RATING",selections:i}]}):l({[ru]:[]}),X({module:"Reviews_Controls",action:"click_ta_rating",context:r,value:w[r]?1:0}),t&&t({businessUnit:rR[h],elementType:r,actionName:"REVIEW_FILTER_TA_RATING",itemAttributes:{filter_value:w[r]?1:0}})};x(()=>{!T&&u&&(o(),N(u),S(!0))},[]);for(var R=function(e){var t=0;m>0&&(t=100*g[e-1]/m),_.push(r(er,{children:a=>i("li",{className:n("ui_checkbox",r7.filter_row,{iLXuy:0===g[e-1]}),children:[r("input",{id:`ReviewRatingFilter_${e}`,type:"checkbox",value:e,checked:!!w[String(e)],onChange:()=>N(e,a),disabled:0===g[e-1]}),r("label",{htmlFor:`ReviewRatingFilter_${e}`,className:`${r7.row_label} cmbUQ`,children:y[e-1]}),r("span",{className:"cttET w",onClick:()=>0===g[e-1]||N(e,a),children:r("span",{className:"SbGYk _T w R2 _S",children:r("span",{className:"TmJIB R2",style:{width:`${t}%`}})})}),r("span",{className:"NLuQa",children:p.formatNumber("integer",g[e-1])})]},e)},e)),w[String(e)]&&f.push({id:String(e),value:y[e-1],active:!0})},C=5;C>=1;--C)R(C);return"dropdown"===s?r(eb,{category:"reviews",textTitle:v.string("common_Travelerrating"),itemsActive:f,itemsVisible:r("ul",{className:r7.filter_table,children:_})}):i(a,{children:[r(eJ,{children:v("common_Travelerrating")}),r("ul",{className:r7.filter_table,children:_})]})},ii=["Family","Couples","Solo","Business","Friends"],ia=e=>[e.string("favorite_review_travelertype_families"),e.string("favorite_review_travelertype_couples"),e.string("favorite_review_travelertype_solo"),e.string("favorite_review_travelertype_business"),e.string("favorite_review_travelertype_friends")],is=(e,t)=>{var r=e[rp]||[],i={},a=[],n=ia(t);r.forEach(e=>{"SEGMENT"===e.axis&&e.selections&&e.selections.forEach(e=>{i[e]=!0})});for(var s=0;s<ii.length;++s)i[ii[s]]&&a.push({index:0,param:rp,value:ii[s],label:n[s],tracker:""});return a},il=({filter:e,displayType:t,changeFilters:s,placeType:l})=>{var{localize:o}=c(),d=[],u=[],h={},p=ia(o);e.forEach(e=>{"SEGMENT"===e.axis&&e.selections&&e.selections.forEach(e=>{h[e]=!0})});for(var v=(e,t)=>{h[e]=!h[e];var r=Object.keys(h).filter(e=>h[e]).sort();r.length?s({[rp]:[{axis:"SEGMENT",selections:r}]}):s({[rp]:[]}),X({module:"Reviews_Controls",action:"click_traveler_filter",context:e,value:h[e]?1:0}),t({businessUnit:rR[l],elementType:e,actionName:"REVIEW_FILTER_TRAVEL_TYPE",itemAttributes:{filter_value:h[e]?1:0}})},g=function(e){d.push(r(er,{children:t=>i("li",{className:n("ui_checkbox",r7.filter_row),children:[r("input",{id:`TravelTypeFilter_${e}`,type:"checkbox",value:ii[e],checked:!!h[ii[e]],onChange:()=>v(ii[e],t)}),r("label",{htmlFor:`TravelTypeFilter_${e}`,className:r7.row_label,children:p[e]})]},e)},e)),h[ii[e]]&&u.push({id:String(e),value:p[e],active:!0})},m=0;m<ii.length;++m)g(m);return"dropdown"===t?r(eb,{category:"reviews",textTitle:o.string("traveler_type"),itemsActive:u,itemsVisible:r("ul",{className:r7.filter_table,children:d})}):i(a,{children:[r(eJ,{children:o("traveler_type")}),r("ul",{className:r7.filter_table,children:d})]})},io=[[3,4,5],[6,7,8],[9,10,11],[12,1,2]],ic=e=>[e.string("season_mar_may_1cb3"),e.string("season_jun_aug_1cb3"),e.string("season_sep_nov_1cb3"),e.string("season_dec_feb_1cb3")],id=(e,t)=>{var r=e[rv]||[],i={},a=[],n=ic(t);r.forEach(e=>{"MONTH"===e.axis&&e.selections&&e.selections.forEach(e=>{i[e]=!0})});for(var s=0;s<io.length;++s)!function(){var e=!1;io[s].forEach(t=>{e=e||i[String(t)]}),e&&a.push({index:0,param:rv,value:io[s].join(","),label:n[s],tracker:""})}();return a},iu=({filter:e,displayType:t,changeFilters:s,placeType:l})=>{var{localize:o}=c(),d=[],u=[],h={},p=ic(o);e.forEach(e=>{"MONTH"===e.axis&&e.selections&&e.selections.forEach(e=>{h[e]=!0})});for(var v=(e,t)=>{var r=!1;io[e].forEach(e=>{r=r||h[String(e)]}),r=!r,io[e].forEach(e=>{h[String(e)]=r});var i=Object.keys(h).filter(e=>h[e]).sort();i.length?s({[rv]:[{axis:"MONTH",selections:i}]}):s({[rv]:[]}),X({module:"Reviews_Controls",action:"click_season",context:io[e].join(),value:r?1:0}),t({businessUnit:rR[l],elementType:io[e].join(),actionName:"REVIEW_FILTER_TRAVEL_TIME",itemAttributes:{filter_value:r?1:0}})},g=function(e){var t=!1;io[e].forEach(e=>{t=t||h[String(e)]}),d.push(r(er,{children:a=>i("li",{className:n("ui_checkbox",r7.filter_row),children:[r("input",{id:`TravelTimeFilter_${e}`,type:"checkbox",value:e,checked:!!t,onChange:()=>v(e,a)}),r("label",{htmlFor:`TravelTimeFilter_${e}`,className:r7.row_label,children:p[e]})]},e)},e)),t&&u.push({id:String(e),value:p[e],active:!0})},m=0;m<io.length;++m)g(m);return"dropdown"===t?r(eb,{category:"reviews",textTitle:o.string("p13n_time_of_year"),itemsActive:u,itemsVisible:r("ul",{className:r7.filter_table,children:d})}):i(a,{children:[r(eJ,{children:o("p13n_time_of_year")}),r("ul",{className:r7.filter_table,children:d})]})},ih={paren_count:"POjZy",taLnk:"EfbKZ b _S",row_label:"Qukvo Vm _S",no_wrap:"ZmySZ q"},ip=(e,t)=>("ATTRACTION"===t||"ACTIVITY"===t)&&""===e,iv=e=>({...T(e),"":e.string("common_alllangs_3dd")}),ig="ReviewList_Languages",im=(e,t)=>{var r=e[rg]||[],i=[],a=iv(t);return r.forEach(e=>{"LANGUAGE"===e.axis&&e.selections&&e.selections.forEach(e=>{a[e]&&i.push({index:0,param:rg,value:e,label:a[e],tracker:""})})}),i},i_=({reviewList:e,reviewAggregations:t,displayType:s,myLang:l,showOverlay:o,hideOverlay:u,changeFilters:h,clearFilters:p,prefilterLang:v,placeType:g})=>{var{localize:m}=c(),f=d(),w=[],y=[],b={},T=e.filters[rg]||[],S=iv(m),[N,C]=A(!1),E={...t.languageCounts||{}};T.forEach(e=>{"LANGUAGE"===e.axis&&e.selections&&e.selections.forEach(e=>{E[e]=E[e]||0,b[e]=!0})}),l&&S[l]&&(E[l]=E[l]||0);for(var I=Object.keys(E).filter(e=>S[e]&&!!(E[e]||b[e]||""===e||e===l)).sort((e,t)=>E[t]-E[e]||e.localeCompare(t)),L=-1,k=0;k<I.length;++k)if(b[I[k]]&&(N||!v)||!N&&v&&I[k]===v){L=k;break}var O=I.length;if("dropdown"!==s&&O>5&&(O=4,L>=4)){var M=I[L];I.splice(L,1),L=3,I.splice(L,0,M)}var F=L>0?I[L]:"",P=(e,t,r)=>{e&&""!==e?h({[rg]:[{axis:"LANGUAGE",selections:[e]}]},t):h({[rg]:[]},t),X({module:"Reviews_Controls",action:"click_language",context:e}),r&&r({businessUnit:rR[g],elementType:e,actionName:"REVIEW_FILTER_LANGUAGE"}),u()};x(()=>{!N&&v?(p(),P(v,!1),C(!0)):F!==l&&P(l,!1)},[]);for(var D=function(e){w.push(r(er,{children:t=>i("li",{className:n("ui_radio",r7.filter_row),children:[r("input",{id:`LanguageFilter_${e}`,type:"radio",value:I[e],checked:I[e]===F,onChange:()=>P(I[e],!0,t)}),i("label",{htmlFor:`LanguageFilter_${e}`,className:ih.row_label,children:[r("span",{className:ih.no_wrap,children:S[I[e]]}),!ip(I[e],g)&&i("span",{className:`${ih.paren_count}`,children:["(",f.formatNumber("integer",E[I[e]]||0),")"]})]})]},e)},e)),I[e]===F&&""!==I[e]&&y.push({id:String(e),value:S[I[e]],active:!0})},H=0;H<O;++H)D(H);if("dropdown"===s)return r(eb,{category:"reviews",textTitle:m.string("OwnerResponse_filter_languages_1"),itemsActive:y,itemsVisible:r("ul",{className:r7.filter_table,children:w})});var V=null;if(I.length>O){for(var q=[],G=function(e){q.push(r(er,{children:t=>i("li",{className:n("ui_radio",r7.filter_row),children:[r("input",{id:`LanguageFilter_${e}`,type:"radio",value:I[e],checked:I[e]===F,onChange:()=>P(I[e],!0,t)}),i("label",{htmlFor:`LanguageFilter_${e}`,className:r7.row_label,children:[S[I[e]],"\xa0",!ip(I[e],g)&&r("span",{className:ih.paren_count,children:f.formatNumber("integer",E[I[e]]||0)})]})]},e)},e))},j=0;j<I.length;++j)G(j);V=i(R,{children:[r(_,{name:ig,children:r("ul",{className:r7.filter_table,children:q})}),r("div",{onClick:o,className:ih.taLnk,children:r("span",{className:"text",children:m("common_more_capital_ffffe27f")})})]},"moreLink")}return i(a,{children:[r(eJ,{children:m("OwnerResponse_filter_languages_1")}),i("ul",{className:r7.filter_table,children:[w,V]})]})},iw=["BASIC_ECONOMY","ECONOMY","PREMIUM_ECONOMY","BUSINESS","FIRST"],iy=["BasicEconomy","Economy","PremiumEconomy","Business","First"],ib=[8729017,8729019,8729020,8729060,8729213,8729086,8729099,8729157,8700105,8729177];function iT(e){var t=[];return t.push(e.string("flights_airline_reviews_basic_economy")),t.push(e.string("airm_economy")),t.push(e.string("airm_premiumEconomy")),t.push(e.string("airm_businessClass")),t.push(e.string("airm_firstClass")),t}var iS=(e,t)=>{var r=e[r_]||[],i={},a=[],n=iT(t);r.forEach(e=>{"CLASS_OF_SERVICE"===e.axis&&e.selections&&e.selections.forEach(e=>{i[e]=!0})});for(var s=0;s<iw.length;++s)i[iw[s]]&&a.push({index:0,param:r_,value:iw[s],label:n[s],tracker:""});return a},iN=({filter:e,displayType:t,changeFilters:s,reviewList:l})=>{var{localize:o}=c(),d=[],u=[],h={},p=l&&l.locationInfo&&ib.includes(l.locationInfo.locationId),v=iT(o);e.forEach(e=>{"CLASS_OF_SERVICE"===e.axis&&e.selections&&e.selections.forEach(e=>{h[e]=!0})});for(var g=e=>{h[e]=!h[e];var t=Object.keys(h).filter(e=>h[e]).sort();t.length?s({[r_]:[{axis:"CLASS_OF_SERVICE",selections:t}]}):s({[r_]:[]}),X({module:"Reviews_Controls",action:"click_class_of_service_filter",context:e,value:h[e]?1:0})},m=e=>!l.classOfServiceCounts||l.classOfServiceCounts[iy[e]]&&l.classOfServiceCounts[iy[e]]>0,_=function(e){d.push(i("li",{className:n("ui_checkbox",r7.filter_row,{HwZOB:!m(e)}),children:[r("input",{id:`ClassOfServiceFilter_${e}`,type:"checkbox",value:iw[e],checked:!!h[iw[e]],onChange:()=>g(iw[e]),disabled:!m(e)}),r("label",{htmlFor:`ClassOfServiceFilter_${e}`,className:r7.row_label,children:v[e]})]},e)),h[iw[e]]&&u.push({id:String(e),value:v[e],active:!0})},f=p?0:1;f<iw.length;++f)_(f);return"dropdown"===t?r(eb,{category:"reviews",textTitle:o.string("airm_cabin"),itemsActive:u,itemsVisible:r("ul",{className:r7.filter_table,children:d})}):i(a,{children:[r(eJ,{children:o("airm_cabin")}),r("ul",{className:r7.filter_table,children:d})]})},iR=["True"],iC=e=>[e.string("hs_safety_filter_removable")],iE=(e,t)=>[t.string("hs_safety_filter",{0:e})],iI=(e,t)=>{var r=e[rh]||[],i={},a=[],n=iC(t);r.forEach(e=>{"ALERT_STATUS"===e.axis&&e.selections&&e.selections.forEach(e=>{i[e]=!0})});for(var s=0;s<iR.length;++s)i[iR[s]]&&a.push({index:0,param:rh,value:iR[s],label:n[s],tracker:""});return a},iA=({reviewAggregations:e,filter:t,displayType:s,changeFilters:l})=>{var{localize:o}=c(),[d,u]=A(0);if(!e?.alertStatusCount&&0===d)return null;var h=[],p=[],v={};e?.alertStatusCount&&d!==e?.alertStatusCount&&u(e.alertStatusCount);var g=iE(d,o);t.forEach(e=>{"ALERT_STATUS"===e.axis&&e.selections&&e.selections.forEach(e=>{v[e]=!0})});for(var m=e=>{v[e]=!v[e];var t=Object.keys(v).filter(e=>v[e]).sort();t.length?l({[rh]:[{axis:"ALERT_STATUS",selections:t}]}):l({[rh]:[]}),X({module:"Reviews_Controls",action:"click_safety_filter",context:e,value:v[e]?1:0})},_=function(e){h.push(i("li",{className:n("ui_checkbox",r7.filter_row),children:[r("input",{id:`HealthAndSafetyFilter_${e}`,type:"checkbox",value:iR[e],checked:!!v[iR[e]],onChange:()=>m(iR[e])}),r("label",{htmlFor:`HealthAndSafetyFilter_${e}`,className:r7.row_label,children:g[e]})]},e)),v[iR[e]]&&p.push({id:String(e),value:g[e],active:!0})},f=0;f<iR.length;++f)_(f);return"dropdown"===s?r(eb,{category:"reviews",textTitle:o.string("hs_traveler_safety_title"),itemsActive:p,itemsVisible:r("ul",{className:r7.filter_table,children:h})}):i(a,{children:[i("div",{className:"f",children:[r(eJ,{children:o("hs_traveler_safety_title")}),r(ee,{below:!0,message:o("hs_safety_tooltip"),maxWidth:222,alignEdge:"left",shiftX:-50,shiftArrow:-8,toggleOnTouch:!0,children:e=>r("span",{ref:e,className:"f u PB",children:r(F,{name:"information-circle",className:"IYoaF"})})})]}),r(Q,{visible:{module:"Reviews_Controls",action:"impression_safety_filter",once:!0},children:r("ul",{className:r7.filter_table,children:h})})]})},iL=e=>e.message&&e.hasSensitiveIssuesBadge?r(et,{children:r(C,{children:r(th,{...e})})}):null,ix=e=>{var[{data:t}]=ey({query:ik,variables:{hotelId:e.locationId}}),i=h();if(!t||!t.HPS_getWebHRComponents)return null;var a=t.HPS_getWebHRComponents.locationAlert,n=t.HPS_getWebHRComponents.location;return a&&n&&a.message&&a.hasSensitiveIssuesBadge&&a.ownerResponse?r(et,{children:r(C,{children:r(tv,{message:a.message,hasSensitiveIssuesBadge:a.hasSensitiveIssuesBadge,responseDate:a.ownerResponse.responseDate,ownerName:a.ownerResponse.ownerName,ownerRole:a.ownerResponse.ownerRole,ownerPropertyName:n.name,ownerResponseText:a.ownerResponse.ownerResponseText,shouldTranslateResponse:O("translate_ta_message_sensitive_issues_badge"),targetLanguage:i})})}):null},ik={__key:58579702702521,id:"3547265ee1b98a43",loc:{},definitions:[]},iO=["AFRICA","ASIA","CANADA","CARIBBEAN","CENTRAL_AMERICA","DOMESTIC","EUROPE","INTERNATIONAL","MEXICO","MIDDLE_EAST","NORTH_AFRICA","NORTH_ASIA","RUSSIA","SE_ASIA","SOUTH_AMERICA","SOUTH_PACIFIC","TRANS_TASMAN","USA"],iM=e=>[e.string("routecategory_africa"),e.string("routecategory_asia"),e.string("routecategory_canada"),e.string("routecategory_caribbean"),e.string("routecategory_central_america"),e.string("routecategory_domestic"),e.string("routecategory_europe"),e.string("routecategory_international"),e.string("routecategory_mexico"),e.string("routecategory_middle_east"),e.string("routecategory_north_africa"),e.string("routecategory_north_asia"),e.string("routecategory_russia"),e.string("routecategory_southeast_asia"),e.string("routecategory_south_america"),e.string("routecategory_south_pacific"),e.string("routecategory_trans_tasmin"),e.string("routecategory_usa")],iF="ReviewList_Route",iP=(e,t)=>{var r=e[rf]||[],i={},a=[],n=iM(t);r.forEach(e=>{"ROUTE"===e.axis&&e.selections&&e.selections.forEach(e=>{i[e]=!0})});for(var s=0;s<iO.length;++s)i[iO[s]]&&a.push({index:0,param:rf,value:iO[s],label:n[s],tracker:""});return a},iD=({filter:e,displayType:t,changeFilters:s,showOverlay:l,reviewList:o})=>{var{localize:d}=c(),u=[],h=[],p={},v=iM(d),[g,m]=A([]);e.forEach(e=>{"ROUTE"===e.axis&&e.selections&&e.selections.forEach(e=>{p[e]=!0})});var f=iO.length;"dropdown"!==t&&(f=4);var w=e=>{p[e]=!p[e];var t=Object.keys(p).filter(e=>p[e]).sort();t.length?s({[rf]:[{axis:"ROUTE",selections:t}]}):s({[rf]:[]}),X({module:"Reviews_Controls",action:"click_route_filter",context:e,value:p[e]?1:0})};if(0===g.length&&!o.isLoading){for(var y=[],b=0;b<iO.length;++b)(!o.routeCounts||o.routeCounts[iO[b]]&&o.routeCounts[iO[b]]>0)&&y.push(b);m(y)}for(var T=function(e){u.push(i("li",{className:n("ui_checkbox",r7.filter_row),children:[r("input",{id:`RouteFilter_${e}`,type:"checkbox",value:iO[g[e]],checked:!!p[iO[g[e]]],onChange:()=>w(iO[g[e]])}),r("label",{htmlFor:`RouteFilter_${e}`,className:r7.row_label,children:v[g[e]]})]},e)),p[iO[g[e]]]&&h.push({id:String(e),value:v[g[e]],active:!0})},S=0;S<g.length&&S<f;++S)T(S);var N=null;if(g.length>f){for(var C=[],E=function(e){C.push(i("li",{className:`ui_checkbox ${r7.filter_row}`,children:[r("input",{id:`RouteFilter_${e}`,type:"checkbox",value:iO[g[e]],checked:!!p[iO[g[e]]],onChange:()=>w(iO[g[e]])}),r("label",{htmlFor:`RouteFilter_${e}`,className:r7.row_label,children:v[g[e]]})]},e))},I=0;I<g.length;++I)E(I);N=i(R,{children:[r(_,{name:iF,children:r("ul",{className:r7.filter_table,children:C})}),r("div",{onClick:l,className:"taLnk",children:r("span",{className:"text",children:d("common_more_capital_ffffe27f")})})]},"moreLink")}return"dropdown"===t?r(eb,{category:"reviews",textTitle:d.string("airm_route"),itemsActive:h,itemsVisible:r("ul",{className:r7.filter_table,children:u})}):i(a,{children:[r(eJ,{children:d("airm_route")}),i("ul",{className:r7.filter_table,children:[u,N]})]})};function iH({locationId:e}){var[t,i]=A(null);return r("div",{ref:eS(()=>{fetch(`/data/1.0/reviewpointscampaign/${e}`,{method:"GET",credentials:"same-origin"}).then(e=>{if(e.ok)return e.json();throw Error()}).then(e=>{i(e)}).catch(()=>!1)},0,1),children:r(et,{children:r(C,{children:t&&t.campaignPointValue>0&&r(t_,{campaign:t})})})})}var iV={containerStyles:"vTVDc",reviewText:"QewHA H4 _a",ctaLine:"TnInx",ctaCollapse:"uoxiZ _S Z",cta:"Ignyf _S Z",caret:"Lvqmo",cutReviewText:"_"},iq=(e,t,r)=>{if(!r)return[e];var i=[];return t.forEach(t=>{(t===e||i.length>0)&&i.push(t)}),i.length>0?i:[e]},iG=(e,t)=>"ACCOMMODATION"===t?e?12:8:4,ij=e=>i("div",{className:iV.ctaLine,"data-test-target":"expand-review",children:[r("span",{className:iV.cta,children:e("common_Read_more")}),r(F,{className:iV.caret,name:"caret-down"})]}),i$=e=>i("div",{className:iV.ctaLine,children:[r("span",{className:iV.ctaCollapse,children:e("common_Readless")}),r(F,{className:iV.caret,name:"caret-up"})]}),iU=(e,t,n)=>{var s=e.replace(/\n/g," ");if(s.length<=n)return r("span",{dangerouslySetInnerHTML:{__html:tE(s)}});var l=s.substr(0,n);if(l=l.substr(0,Math.min(l.length,l.lastIndexOf(" "))),!e.includes("\x87")||l.includes("\x87")){var o=t?r("span",{className:iV.cutReviewText,children:s.substr(l.length,s.length)}):"";return i(a,{children:[r("span",{dangerouslySetInnerHTML:{__html:tE(l)}}),o]})}var c=s.indexOf("\x87"),d=s.substr(c-n,n),u=Math.max(0,d.indexOf(" "));return d=d.substr(u,c-u),i(a,{children:["...",t?r("span",{className:iV.cutReviewText,children:s.substr(0,s.indexOf(d))}):"",r("span",{dangerouslySetInnerHTML:{__html:tE(d)}})]})},iB=e=>{var{localize:t}=c(),{location:n,reviewList:s,review:l,expanded:o,reviews:d,children:u,expandReviews:h,alwaysShowReadMore:p,i18nlanguage:v}=e,g=eN(),m=l.id,{text:_,language:f,originalLanguage:w,translationType:y}=l,b={};"MACHINE"===y&&w&&(b.lang=`${v}-x-mtfrom-${w}`);var T=d.map(e=>e.id),S=n?.placeType||"ALL",N=s?.page?.offset===0,R=iG("MOBILE"===g,S),C="ACCOMMODATION"===S?790:280;return i("div",{className:iV.containerStyles,children:[r(H,{collapsible:!0,alwaysShowReadMore:p,cta:ij(t),ctaCollapse:i$(t),ctaNewline:!0,initialDivHeight:20*R,collapsed:!o,clickCallback:e=>("CTA"!==e&&("CONTENT"!==e||o)?"CTA_COLLAPSE"===e&&o&&h(iq(m,T,!1),!1):(h(iq(m,T,!0),!0),X({module:"Reviews",action:"click_read_more",context:"expand"})),!1),numLinesToShow:R,children:r("span",{className:iV.reviewText,...b,"data-test-target":"review-text",children:i(V,{contentLanguage:f||"",children:[o?r("span",{dangerouslySetInnerHTML:{__html:tE(_.trim())}}):iU(_,N,C),!o&&_.length>C&&r(a,{children:"…"})]})})}),u&&u(o)]})},iz={disclaimer:"XCJRC S2 Me MD i"},iW=({review:e,className:t})=>{var{disclaimer:a,translationText:s}=function(e,t,i,a){var n,s="INDIVIDUAL_TRAVELER",{localize:o}=c();e.isLocalProvider?s="MEMBER":e.isToolProvider&&(s="INDIVIDUAL_CONTRIBUTOR");var d=r(l,{variant:s});if("HUMAN"===t){var u,h=T(o)[i||"en"]||i||"en";n=o.string("userreview_92d",{0:h,1:((u=a||"tripadvisor.com").endsWith("daodao.com")&&(u="tripadvisor.cn"),u.startsWith("www")||(u=`www.${u}`),u)})}return{disclaimer:d,translationText:n}}(e.provider,e.translationType,e.original?e.original.language:null,e.original?e.original.submissionDomain:null),o=function(e){var{localize:t}=c();return"HUMAN"===e.translationType&&e.original?r("a",{href:e.original.url,children:t("userreview_92e")}):null}(e);return a?i("div",{className:n(iz.disclaimer,t),children:[a,s,o]}):null};return e({PointsCampaign:iH,ReviewControlNotice:r$}),[()=>{eA=tb,eL={"\x86":'<span class="jLQSJ">',"\x87":"</span>","\n":"<br>","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tx.defaultProps={isReviewText:!1,url:void 0},ex=v((e,t)=>({myLang:y(e),sourceLang:t.review&&t.review.language||void 0,reviewTranslationType:t.review&&t.review.translationType||void 0,locationId:t.location&&t.location.locationId||void 0,geoId:t.location&&t.location.parentGeoId||void 0,reviewId:t.review&&t.review.id||void 0,isReviewText:!0,url:void 0,onClick:void 0}),{showOverlay:w.overlays.showGlobalOverlay})(tx),ek=v((e,t)=>({myLang:y(e),sourceLang:t.review&&t.review.mgmtResponse&&t.review.mgmtResponse.language||void 0,reviewTranslationType:t.review&&t.review.mgmtResponse&&t.review.mgmtResponse.translationType||void 0,locationId:t.location&&t.location.locationId||void 0,geoId:t.location&&t.location.parentGeoId||void 0,reviewId:t.review&&t.review.mgmtResponse&&t.review.mgmtResponse.id||void 0,isReviewText:!1,url:void 0,onClick:void 0}),{showOverlay:w.overlays.showGlobalOverlay})(tx),eO=tx,tF.defaultProps={photos:[],locationId:-1,geoId:-1},eM=tF,eF=tP,eP=v((e,t)=>{var i=t.location||{},a=t.review||{},n={...a.mgmtResponse||{},__typename:"ReviewMgmtResponse"};return{ownerResponse:n,userProfile:a.userProfile||{},reviewId:a.id,username:n.username,connectionToSubject:n.connectionToSubject,publishedDate:n.publishedDate,locationName:i.name,text:n.text,language:n.language,translationType:a.translationType,alwaysShowReadMore:!1,additionalClassName:void 0,header:r(ek,{...t}),expanded:(($(e)||{}).expandedReviews||{})[a.id]}},{expandReviews:U.expandReviews})(tG),eD=tB,tW.defaultProps={type:"folded",color:"default",foldedSize:"default",foldedAlign:"default",customClassNames:"",onClick:()=>{}},eH=tW,eV=tQ,eq=v((e,t)=>({i18nlanguage:e.i18n.language,reviewId:t.review.id,title:t.review.title,language:t.review.language,originalLanguage:t.review.originalLanguage,translationType:t.review.translationType,url:t.review.url}),{expandReviews:U.expandReviews})(tZ),eG=tZ,tK.defaultProps={additionalRatings:null},ej=tK,e$=t3,eU=t4,t7.defaultProps={tripType:null},eB=t7,ez=new Set([26630,36167,31832,56342,49806,53840,49280,26470,58378,37673,58370,58610,62657,26576,32899,60331,36916,55343,21607,51676,48931,35231,48226,56776,35274,42626,26574,37676,35827,64442,26610,35230,33504,59617,36513,21608,30145,21438,55340,35829,41608,56334,59981,36924,47327,53822,49707,54688,59983,42628,26514,42446,57222,28155,49276,28683,39221,42625,55407,25045,56787,56773,35232,40326,59972,49803,61833,35083,26584,32915,61835,28035,58598,26566,26622,26609,27684,26626,49224,26612,26577,26592,40299,26598,49949,49951,43257,26572,30451,59982,49709,21610,33538,27685,30454,35275,49881,25111,49798,36320,40621,47326,31806,26606,40298,41607,42447,33505,36915,26603,60332,26631,21529,49277,26471,33506,64841,59410,26587,59661,28153,49801,41610,26608,28152,25110,42627,54685,26593,35273,35637,26623,41652,36516,56788,53843,65297,49814,41655,36539,47325,26589,30452,33537,51673,26633,58703,28682,43254,58375,26472,49275,54926,49795,31814,21606,32941,51674,49799,55341,30023,33532,55342,36318,36536,35272,40328,26578,30025,43283,55002,55754,26582,49879,60295,26613,54999,32916,36910,26634,26573,36315,64842,22009,36926,36317,34329,36321,30144,58609,21579,26570,35639,58368,30026,21528,28154,33534,31812,49274,56340,21577,49278,56335,21604,48225,26469,26625,35640,32945,33530,54925,36310,59979,43284,55001,58700,54720,55756,36316,54928,26594,49706,36311,40325,51678,35085,47269,35084,56790,21564,56789,55408,40623,36313,26632,26591,26629,49802,40324,21527,35638,49710,35826,31807,58701,22010,26565,58596,35086,26616,31833,34330,53838,48928,25109,39224,26621,32898,40327,49880,28034,32943,49816,21578,27683,30024,26619,23312,58612,23307,49815,42448,31809,49952,49817,59411,40622,36515,60296,58377,26586,51677,53836,36514,58376,26597,49281,55406,32900,49797,21605,22006,25042,35277,39223,21437,23318,37674,21609,57224,26635,40329,51680,41650,43256,60294,55753,26618,21603,26628,36538,36913,26575,30881,36923,59980,49279,56774,25043,31831,55405,39228,48929,36537,23311,39226,33540,65295,36909,26583,56775,42449,35828,57225,31813,62656,21565,28037,54719,36166,54722,31808,58367,60334,23317,64843,28036,22008,51675,43255,58597,54687,26585,60297,59409,62658,36319,26516,48930,56333,23316,30147,33535,26517,58611,53824,27682,54927,53842,64840,35233,43282,43281,54721,64441,36912,61834,26580,60333,30879,56343,35276,31830,36312,48227,32944,26588,56332,26579,26615,32940,40322,40297,41609,31811,58702,36914,53837,36911,40296,53835,21566,32938,59974,55755,26599,59662,25044,35270,49804,57223,56341,49796,55e3,26571,26600,54686,28684,49805,53823,51679,39227,62660,35271,40323,26601,26611,26607,26515,40624,49800,49882,41653,37675,26595,36314,59619,64440,26590,32913,39222,49950,26602,58369,30453,26620,26567,26596,34328,36925,21526,33509,26564,30878,59408,34327,64439,58599,59660,32939,32901,30146,26581,26624,36165,59975,22007,61831,26614,53825,32946,21567,36168,26617,28685,30880,26605,33531,23310,23315,39225,32914,25108,21580,53841,59659]),eW=new Date(2020,10,1),eX=rs,eQ=E(()=>t("8or92s")),eY=v((e,t)=>({...t,review:t.review,readonlyMode:e.meta.readonlyMode,userId:e.auth.loggedInUserId||e.auth.altSessId}),{showOverlay:w.overlays.showGlobalOverlay})(ro),eZ=ro,eJ=rc,eK=[ru,rh,rp,rv,rg,rm,r_,rf],e0={RATING:ru,ALERT_STATUS:rh,SEGMENT:rp,MONTH:rv,LANGUAGE:rg,TEXT:rm,CLASS_OF_SERVICE:r_,ROUTE:rf},eR=class extends I{static getDerivedStateFromProps(e,t){return e.query!==t.query?{value:e.query,query:e.query}:null}componentDidMount(){p("traveler-talk-about").on("keywordClicked",this.onKeywordClicked)}onSubmit(e,t){t!==this.state.query?(this.setState({value:t}),this.props.setQuery(t)):t!==this.state.value&&this.setState({value:t})}render(){return i(a,{children:[this.props.keywords&&this.props.keywords.length>0&&r(eJ,{children:this.props.localize("community_popular_mentions")}),r("div",{className:`${rd.button_wrap}`,children:rI(this.state.query,this.props.keywords,e=>this.onSubmit(null,e),this.props.placeType,this.props.localize)})]})}constructor(e){var t,r;super(e),t="onKeywordClicked",r=e=>{this.onSubmit(null,e)},t in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r,this.state={value:e.query,query:e.query}}},e2=v(rC,rE)(rA),e3=rx,e6={setQuery:e=>{var t=(e||"").trim();return""===t?U.changeFilters({[rm]:[]}):U.changeFilters({[rm]:[{axis:"TEXT",selections:[t]}]})},clearFilters:U.clearFilters},eC=class extends I{static getDerivedStateFromProps(e,t){return e.query!==t.query?{value:e.query,query:e.query}:null}onSubmit(e,t,r){t!==this.state.query?(this.setState({value:t}),this.props.setQuery(t),X({module:"Reviews_Controls",action:"click_search",context:t}),r({businessUnit:rR[this.props.placeType],elementType:t,actionName:"HR_REVIEW_SEARCH"})):t!==this.state.value&&this.setState({value:t})}onChange(e,t){this.setState({value:t})}onKey(e,t,r){"Enter"===e.key&&this.onSubmit(e,t,r)}onDSChange(e){var t=e.target.value;this.setState({value:t})}onDSKey(e,t){"Enter"===e.key&&this.onSubmit(e,this.state.value,t)}render(){return r(er,{children:e=>this.props.useDsSearchBox?r(ei,{placeholder:this.props.localize.string("Search_reviews_248"),value:this.state.value,onChange:e=>this.onDSChange(e),disabled:this.props.disabled,onKeyUp:t=>this.onDSKey(t,e),onBlur:t=>this.onSubmit(t,this.state.value,e),onClear:()=>this.onCTAClick(e)}):r(e3,{placeholder:this.props.localize.string("Search_reviews_248"),value:this.state.value,disabled:this.props.disabled,onChange:(e,t)=>this.onChange(e,t),onKeyUp:(t,r)=>this.onKey(t,r,e),onBlur:(t,r)=>this.onSubmit(t,r,e),onCTAClick:()=>this.onCTAClick(e)})})}constructor(e){var t,r;super(e),t="onCTAClick",r=e=>{this.onSubmit(null,"",e)},t in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r,this.state={value:e.query,query:e.query}}},e5=v(rO,e6)(rM),e1=[{label:"Most Recent",value:rF.MOST_RECENT},{label:"Detailed Reviews",value:rF.ML_SORTED,tooltipText:"Reviews order informed by descriptiveness of user-identified themes such as cleanliness, atmosphere, general tips and location information."}],e4={MOST_RECENT:{[ry]:null,[rb]:null},ML_SORTED:{[ry]:rN,[rb]:rS}},e8=v(null,{changePrefs:e=>U.setPrefs(e)})(rH),e9=v(null,{changePrefs:e=>U.setPrefs(e)})(rq),e7=v((e,t)=>t,{showOverlay:()=>w.overlays.showGlobalOverlay(rU),changeFilters:U.changeFilters})(rQ),te=v((e,t)=>({showMT:!1!==t.reviewList.prefs[rw]}),{mtOn:()=>U.setPrefs({[rw]:!0}),mtOff:()=>U.setPrefs({[rw]:!1})})(rY),tt=v((e,t)=>({...t,renderHeader:t.reviewListHeader,renderReview:t.review,renderReviewFilters:t.reviewFilters}),{changePage:U.changePage,clearFilters:U.clearFilters})(rK),tr=class extends I{shouldComponentUpdate(e){return e.version>0&&(!this.props||e.version!==this.props.version)}componentDidUpdate(e){this.props.version>0&&(!e||this.props.version!==e.version)&&this.props.onChange()}render(){return null}},eE=class extends I{componentDidUpdate(e){if(this.props.props.offset!==e.props.offset&&this.props.navigate&&this.props.route&&"object"==typeof window&&window.history&&document){var t={...this.props.route,o:`r${this.props.props.offset}`};this.props.navigate(t,{noHistory:!0});var r=b(window.location.pathname,this.props.props.offset);window.history.pushState(t,document.title,r),window.location.hash="#REVIEWS"}}render(){return null}},ti=v(e=>({offset:$(e).offset}))(J(eE)),ta=O("crawler_or_search_ua"),eI=class extends I{componentDidMount(){this.stash.filters&&!this.props.filtersVersion&&this.props.onGotFilters&&this.props.onGotFilters(this.stash.filters),this.stash.prefs&&!this.props.prefsVersion&&this.props.onGotPrefs&&this.props.onGotPrefs(this.stash.prefs)}render(){var e=!!(this.props.filtersVersion||this.props.prefsVersion||this.props.offset),t=[];this.props.filtersMap&&e?(t=[],eK.forEach(e=>{var r=this.props.filtersMap&&this.props.filtersMap[e]||[];!("language"===e&&this.props.filtersMap?.[e]&&this.props.filtersMap?.safety?.length)&&t&&t.push(...r)})):(t=r5(this.props.language),this.props.urlReviewQuery&&t.push({axis:"TEXT",selections:[this.props.urlReviewQuery]}));var n={};this.props.defaultPreferFriendReviews?n={[ry]:rT}:this.props.defaultShowMlSortedReviews&&(n={[ry]:rN,[rb]:rS});var s=this.props.prefsVersion>0&&this.props.prefs||null;if(this.stash.locationId&&this.stash.locationId!==this.props.locationId&&(this.stash={}),!this.props.locationId){this.stash={};var l={hasReviews:!1,keywords:[],page:{offset:0,limit:this.props.pageSize},isLoading:!0,filters:{},prefs:{}};return this.props.renderList({location:null,root:null,reviewList:l,reviewAggregations:{ratingCounts:r3,languageCounts:{},alertStatusCount:0}})}return i(a,{children:[r(ef,{query:r0,children:({executeMutation:e})=>r(tr,{version:this.props.filtersVersion,onChange:()=>e({key:r8(this.props.locationId),val:JSON.stringify(t)})})}),r(ef,{query:r0,children:({executeMutation:e})=>r(tr,{version:this.props.prefsVersion,onChange:()=>e({key:r9(this.props.locationId),val:JSON.stringify(s)})})}),r(ew,{query:this.props.queryNode,variables:{locationId:this.props.locationId,offset:this.props.offset,filters:t,prefs:s,initialPrefs:n,limit:this.props.pageSize,filterCacheKey:this.props.filtersVersion>0?null:r8(this.props.locationId),prefsCacheKey:this.props.prefsVersion>0||ta?null:r9(this.props.locationId),needKeywords:!(e&&this.stash.keywords),keywordVariant:`location_keywords_v2_llr_order_30_${this.props.language}`},children:({fetching:e,data:t,error:r,executeQuery:i})=>{var a=t&&t.locations&&t.locations[0],l=!e&&a&&a.reviewListPage&&!0,o=a&&a.reviewListPage||{},c=a&&a.reviewAggregations||{},d=o.page&&o.page.offset||this.props.offset,u=c.ratingCounts?c.ratingCounts.reduce((e,t)=>t+e,0):0,h=a&&a.keywords&&a.keywords.keywords;h=(h=h&&h.map(e=>e&&e.keyword).filter(e=>!!e))||this.stash.keywords;var p=o.reviews?o.totalCount||0:this.stash.totalCount,v=c.ratingCounts||this.stash.ratingCounts,g=r6(this.stash.languageCounts||{},c.languageCounts,u),m=this.props.filtersMap||r1(this.props.language,t&&t.cachedFilters),_=s||r4(!this.props.prefsVersion&&this.props.defaultPreferFriendReviews,this.props.defaultShowMlSortedReviews,t&&t.cachedPrefs,n);if(this.stash={locationId:this.props.locationId,keywords:h,totalCount:p,ratingCounts:v,languageCounts:g,filters:m,prefs:_,retryCount:this.stash.retryCount,retryRequested:this.stash.retryRequested},!e){if(l||!r)this.stash.retryRequested=!1,this.stash.retryCount=null;else if(!this.stash.retryRequested){this.stash.retryRequested=!0;var f=(this.stash.retryCount||0)+1;this.stash.retryCount=f,f>=1&&f<=4?setTimeout(()=>{this.stash.retryRequested=!1,i()},[1e3,1e3,1500,2200,3500,1e3,1e3][f]):f>6&&(l=!0)}}var w={root:t,location:t&&t.locations&&t.locations[0],reviewList:{...o,hasReviews:!!u,keywords:h,totalCount:p,page:{offset:d,limit:this.props.pageSize},isLoading:!l,locationInfo:a,filters:m,prefs:_},reviewAggregations:{...c,ratingCounts:v||r3,languageCounts:g}};return this.props.renderList(w)}}),r(ti,{})]})}constructor(e){super(e),r2(this,"stash",void 0),this.stash={},this.state={}}},r2(eI,"defaultProps",{offset:0,filtersVersion:0,prefsVersion:0,filtersMap:null,prefs:null,language:"en",pageSize:5}),tn=v((e,t)=>{var r=$(e);return{locationId:e.page.detailId&&Number(e.page.detailId),queryNode:t.queryNode,renderList:t.renderList,pageSize:t.pageSize,offset:r.offset||0,filtersVersion:r.filtersVersion||0,filtersMap:r.filters||e.route.q&&{text:[{axis:"TEXT",selections:[e.route.q]}]}||null,prefs:r.prefs,prefsVersion:r.prefsVersion||0,language:y(e),defaultPreferFriendReviews:e.route&&"true"===e.route.preferFriendReviews,urlReviewQuery:e.route.q,defaultShowMlSortedReviews:!0===t.defaultShowMlSortedReviews}},{onGotFilters:U.gotFilters,onGotPrefs:U.gotPrefs})(eI),ts=v((e,t)=>({...t,prefilterRating:e.route.filterRating,myLang:y(e)}),{changeFilters:U.changeFilters,clearFilters:U.clearFilters})(ir),tl=v((e,t)=>({filter:t.reviewList.filters[rp]||[]}),{changeFilters:U.changeFilters})(il),to=v((e,t)=>({filter:t.reviewList.filters[rv]||[]}),{changeFilters:U.changeFilters})(iu),tc=v((e,t)=>({...t,myLang:y(e),prefilterLang:e.route.filterLang}),{showOverlay:()=>w.overlays.showGlobalOverlay(ig),hideOverlay:()=>w.overlays.hideGlobalOverlay(ig),changeFilters:U.changeFilters,clearFilters:U.clearFilters})(i_),td=v((e,t)=>({filter:t.reviewList.filters[r_]||[]}),{changeFilters:U.changeFilters})(iN),tu=v((e,t)=>({filter:t.reviewList.filters[rh]||[]}),{changeFilters:U.changeFilters})(iA),th=E(()=>t("s2m6yi")),tp=eT((e,t)=>{var r=e.page.detailId?t(`/data/1.0/hotelDetail/${e.page.detailId}/locationAlert`):null,i=r&&r.get().data;return()=>i||{}})(iL),tv=E(()=>t("s2m6yi")),tg=ix,tm=v((e,t)=>({filter:t.reviewList.filters[rf]||[]}),{changeFilters:U.changeFilters,showOverlay:()=>w.overlays.showGlobalOverlay(iF)})(iD),t_=E(()=>t("3jasx5")),tf=v((e,t)=>{var r=($(e)||{}).expandedReviews||{};return{i18nlanguage:e.i18n.language,alwaysShowReadMore:!0,expanded:t.defaultExpanded?r[t.review.id]||!(t.review.id in r):r[t.review.id],reviews:t.reviewList.reviews||[],children:e=>t.renderChildren(t,e)}},{expandReviews:U.expandReviews})(iB),tw=iB,iB.defaultProps={alwaysShowReadMore:!1},e({AdditionalRatings:ej,AdditionalRatingsInListing:t0,AttributionFooter:eX,AttributionFooterInListing:rl,ClassOfServiceFilter:td,ConnectedRateMTFooterShell:eY,ConnectedReviewTitle:eq,DetailReviewListContainer:tn,DisclaimerFooter:iW,EventDate:e$,EventDateInListing:t6,EventDetails:eU,EventDetailsInListing:t8,ExpandableReview:tw,Expando:tf,GoogleTranslateButton:eO,HealthAndSafetyFilter:tu,InlineReviewPhotosInListing:tD,InlineRoomTipInListing:tC,LanguageFilter:tc,MTFooter:eZ,OwnerResponse:eP,PREF_NAME_SORTTYPE:ry,Photos:eF,PointsCampaign:iH,REVIEW_SORT_CONNECTIONS_FIRST:rT,RatingLine:eD,RatingLineInListing:tz,ResponseDisclaimerFooter:eA,ReviewControlNotice:r$,ReviewFilters:e7,ReviewGoogleTranslateButton:ex,ReviewHeader:tk,ReviewListView:tt,ReviewRatingFilter:ts,ReviewSortDropdown:e8,ReviewSortOverlay:e9,ReviewTitle:eG,RouteFilter:tm,SearchBox:e5,SearchFilter:e2,SensitiveIssuesBadge:tp,SensitiveIssuesBadgeGql:tg,SensitiveIssuesBadgeQuery:ik,SingleReview:eV,SingleReviewInListing:tY,TravelTimeFilter:to,TravelTypeFilter:tl,TripType:eB,TripTypeInListing:re,getCOSSelections:iS,getHealthAndSafetySelections:iI,getLanguageSelections:im,getRatingSelections:it,getRouteSelections:iP,getSegmentSelections:is,getTextSelections:rk,getTimeSelections:id})},[e=>(r=e.jsx,i=e.jsxs,a=e.Fragment),e=>n=e.default,e=>(s=e.default,l=e.TransparencyLinkReviewDisclosure),e=>(o=e.default,c=e.useLocalize,d=e.useIntlFormatter,u=e.useLocale,h=e.useLanguage),e=>p=e.createRadio,e=>v=e.connect,e=>g=e.default,e=>m=e.default,e=>_=e.Modal,e=>f=e.AjaxRequest,e=>w=e.actions,t=>{y=t.contentLangFromState,b=t.getReviewsUrl,T=t.getLanguageNames,e("contentLangFromState",t.contentLangFromState)},e=>S=e.MemberEventOnObjectBlock,e=>(N=e.useCallback,R=e.Fragment,C=e.Suspense,E=e.lazy,I=e.Component,A=e.useState,L=e.useMemo,x=e.useEffect),e=>k=e.ResponsiveImage,e=>O=e.featureIsEnabled,e=>M=e.openMediaViewer,e=>F=e.Icon,e=>(P=e.useIsRobotSafe,D=e.MountedClientOnly),e=>(H=e.ReadMore,V=e.DirectionalText),e=>(q=e.shouldUseRelativeDate,G=e.renderRelativeDate,j=e.renderAbsoluteDate),t=>{$=t.getState,U=t.ACTIONS,e("REVIEW_LIST_ACTIONS",t.ACTIONS)},e=>B=e.Avatar,e=>z=e.SectionOverflowMenu,e=>W=e.BubbleRating,e=>(X=e.default,Q=e.Track),e=>Y=e.HasBeenVisible,e=>(Z=e.Link,J=e.withRouteContext),e=>K=e.useGARecordCallback,e=>ee=e.default,e=>et=e.ErrorBoundary,e=>er=e.BBMLInteractionLogger,e=>ei=e.default,e=>ea=e.TextInput,e=>en=e.Dropdown,e=>es=e.default,e=>el=e.default,e=>(eo=e.Columns,ec=e.Column),e=>ed=e.default,e=>eu=e.default,e=>eh=e.InlineAlert,e=>ep=e.FeedLoadingSkeleton,e=>ev=e.default,e=>eg=e.useRoute,e=>em=e.default,e=>e_=e.default,e=>(ef=e.Mutation,ew=e.Query,ey=e.useQuery),e=>eb=e.FilterGroup,e=>eT=e.bind,e=>eS=e.useOnVisible,e=>eN=e.useViewportCategory]]},["21h32l","fkji80","2ksxja","7thqz4","bqgabj","2mj4nv","4nzso8","u59av4","8m6oju","1w1pct","45ddp0","jlm8x1","j16vpf","o4yt4q","76j3t0","skjzuv","uk99rb","ybxsmg","mb2nze","wgun1f","o5y7tg","itf998","ljqkwp","shzb6i","k3tmpy","4axon3","w0dpwq","bvvaww","32pwc7","wt5b21","83pm0d","5nmd8a","gppdva","uovzt8","3yhbda","6110k5","4q9l40","ptdiqu","wi7w8g","vcz45k","lt9m20","2kokoi","0i47ac","fgwvq1","nghwb4","6ac2ea","mqwhqn","ihwtf3","6z5q2p","3btuy0","ys6v1o"]]);
