(this.$WP=this.$WP||[]).push(["hi1aze",(e,a)=>{var r,t,o,l,i,n,s,c,d,u,m,h,p,v,b,_,g,f,I,w,C,P,N,y,A,T,M,x,L,k,O,B,U,W,R,S,E,z,D,H,$,j,G,q,V,F,Q=({travelersChoiceData:e,botbData:a})=>{var t=b(),o=null;return e?.awardType==="BOTB"?o=r(v,{...e,botbDetails:a}):e?.awardType==="COE"&&(o=r(p,{tooltipVariant:"TABLET"===t?"top-caret":"left-caret",year:e?.year})),r("div",{className:"TujUm u _Q Z1",children:o})},Z=({root:e})=>r(Q,{travelersChoiceData:e?.travelersChoice?.[0],botbData:e?.botb?.[0]}),Y=(e,a,r,t)=>{if(P("hr_mediaviewer_mas"))N(e,r,t);else{var l={detail:e,geo:a,albumViewMode:"grid",updateType:"full",albumId:r,filter:7};t>0&&(r===o.PANO_ALBUM?l.panoId=`p${t}`:l.ff=t,l.baseMediaId=t,l.albumViewMode="hero"),window.require(["trjs!actions/openRespPhotoViewer"],e=>{e.openWithOptions(l)})}},K={dummy_avatar_plus:"c",dummy_plus_text:"mcuqw Ca Gp S2 b R- _Q",small:"tGYHe",default:"qufgU",large:"TiHEm",xtra_large:"AZboY",facepile:"Vm d"},X=e=>{var a=[],o=e.avatarProps.length;void 0!==e.maxFaces&&e.maxFaces<e.avatarProps.length&&(o=e.maxFaces-1);for(var l=0;l<o;l++)a.push(r(A,{...e.avatarProps[l]},l));if(void 0!==e.maxFaces&&o<e.avatarProps.length){var i=e.avatarProps[0].size?e.avatarProps[0].size:"default",n=K.default;"small"===i?n=K.small:"large"===i?n=K.large:"xtra-large"===i&&(n=K.xtra_large),a.push(r("span",{className:w("ui_social_avatar",K.dummy_avatar_plus,i),children:t("span",{className:w(K.dummy_plus_text,n),children:["+",e.avatarProps.length-o]})},o))}return r("div",{className:w(K.facepile,"ui_social_avatar_group"),children:a})},J={absolute:"_Q",overlayIcon:"kEtyG",overlayIconLarge:"eJlMU",iconWrapper:"AiVmP",iconWrapperPano:"QMboG",darkIconBgPano:"HFXKu",darkIconBg:"cMpnU _Q",pano360:"uPLQm b",facePile:"rvEWq"},ee=()=>t("div",{className:J.iconWrapperPano,children:[r("div",{className:w(J.absolute,J.darkIconBgPano)}),r(y,{name:"refresh",className:w(J.overlayIconLarge,J.absolute)}),r("span",{className:w(J.absolute,J.pano360),children:"360"})]}),ea=()=>r("div",{className:J.iconWrapper,children:r(y,{name:"camera",className:w(J.overlayIcon,J.absolute)})}),er=e=>{if(!e)return ea();var a=e.filter(e=>!!(e.userProfile&&e.userProfile.avatar)).reduce((e,a)=>(e[a.userProfile.avatar.id]=a.userProfile.avatar,e),{}),o=Object.keys(a).reduce((e,r)=>(e.push(a[r]),e),[]).map(e=>({withBorder:!0,alt:"",size:"small",photo:{photoSizes:e?.photoSizes??[]}})).filter(e=>!!e).slice(0,3);return o.length<2?ea():t("span",{className:J.facePile,children:[" ",r(S,{avatarProps:o,maxFaces:3})]})},et=()=>t("div",{className:J.iconWrapper,children:[r(y,{name:"bubble-rating-bg",className:J.darkIconBg}),r(y,{name:"play",className:w(J.overlayIcon,J.absolute)})]}),eo=()=>r("div",{className:J.iconWrapper,children:r(y,{name:"hotels",className:w(J.overlayIcon,J.absolute)})}),el=()=>r("div",{className:J.iconWrapper,children:r(y,{name:"restaurants",className:w(J.overlayIcon,J.absolute)})}),ei=({albumId:e,avatarData:a})=>{switch(e){case o.TRAVELER_ALBUM:return er(a);case o.STORYBOARD_ALBUM:return et();case o.PANO_ALBUM:return ee();case o.ROOM_AND_SUITE_ALBUM:return eo();case o.DINING_ALBUM:return el();default:return ea()}},en={imageOverlay:"jGSWL w _Z f e u j _P c C4",imageOverlayGray:"BCgYe",icon:"btPGK",thinText:"oTtzD"},es=e=>{var a=e.renderIcon&&"function"==typeof e.renderIcon?e.renderIcon():es.defaultProps.renderIcon();return t("div",{className:w(en.imageOverlay,e.title?en.imageOverlayGray:""),children:[a,e.title,e.count&&t("span",{className:en.thinText,children:[" (",e.count,") "]})]})};function ec(){return r(y,{name:"play",className:en.icon})}var ed={albumsContainer:"iWIbD",albumColumnWrap:"lARID o _Z PA",albumThumbnailWrap:"jtEGR",albumThumbnailWrapNoBorder:"jpAiI",albumThumb:"lbKFv _T _S _Z"},eu=()=>{for(var e=[],a=0;a<3;a++)e.push({albumId:-a,name:"",totalMediaCount:0,mediaList:[]});return e},em=(e,a,t,l,i)=>a.map(({albumId:a,name:n,totalMediaCount:s,mediaList:c})=>{var d=()=>{g({module:"photoviewer",action:"atf_album_click",context:`${a}`}),R(t,l,a,a===o.STORYBOARD_ALBUM?c?.[0]?.mediaId:-1)},u=a===o.PANO_ALBUM,m=r("div",{className:w(u?ed.albumThumbnailWrapNoBorder:ed.albumThumbnailWrap),children:r(I,{children:t=>r(C,{className:ed.albumThumb,photoSizes:c?.[0]?.photoSizes??[],loading:e,onClick:()=>{t({elementType:"photo",actionName:"HR_ALBUM_THUMBNAIL",itemAttributes:{album_id:a}}),d()},sizeHint:{tablet:"20vw",desktop:"20vw"},lazy:!1,children:r(z,{title:n,count:s,renderIcon:()=>r(E,{albumId:a,avatarData:i})})})})},a);return u?r(f,{onVisible:()=>{g({module:"atf_panos_album",action:"in_view",value:0})},children:e=>r("div",{ref:e,className:ed.albumThumbnailWrap,children:m})},`track-${a}`):m}),eh=e=>e.filter(({mediaList:e})=>0!==e.length).slice(0,3),ep=({albums:e,locationId:a,geoId:t,avatarData:o,loading:l})=>{var i;return e&&0!==e.length&&e.filter&&a&&t&&!((i=l?eu():eh(e)).length<2)?r("div",{className:w(ed.albumsContainer,ed.albumColumnWrap),children:em(l,i,a,t,o)},"albums-container"):null};function ev(){g({module:"photoviewer",action:"click",context:"add_photo_click"})}var eb=({locationId:e,geoId:a})=>{var{localize:o}=O(),{enabled:l}=B(),i=`/PostPhotos-g${a}-d${e}`;return t("a",{className:w("XQUfC f e j u _Z w _T Wc",{Ra:l}),href:i,target:"_blank",onClick:ev,children:[r("div",{className:"nWCef",children:r(y,{className:"jzHVk",name:"camera"})}),r(k,{type:"primary",size:"large",children:o("mw_add_photo_ffffdfce")})]})},e_={carouselWrap:"tmaAb f",carouselWrapMobileRegular:"lyixc",carouselWrapMobileThinGeo:"ysizD",carouselContainer:"UXboM","carousel-container":"HuNes",flexColumn:"fqMvr f e",photoStripContainer:"uHFfh",ctaContainer:"tQrpg",backupPhotoText:"n _d"},eg=e=>{switch(e){case"MOBILE":return{clientWidth:400,clientHeight:200};case"TABLET":return{clientWidth:425,clientHeight:380};default:return{clientWidth:610,clientHeight:380}}},ef=({locationId:e,geoId:a,media:l,totalMediaCount:i,getNextPage:n=()=>{},carouselIndex:m,updateCarouselIndex:h,postPhotosUrl:p,writeReviewUrl:v,locationName:b,albumId:_,viewportCategory:f,albumName:C})=>{var{localize:P}=O(),N=()=>!!(_&&_===o.THIN_GEO_PHOTO_ALBUM),y=()=>"MOBILE"===f,A=()=>{var t="MOBILE"===f?"xsmall":"regular",l=y()?"none":void 0;return i>1?r(I,{children:n=>r(u,{onClick:()=>{g({module:"photoviewer",action:"atf_allphotos_click",context:`${e}`}),n({elementType:"photo",actionName:"HR_MEDIA_CAROUSEL",itemAttributes:{media_id:-1}}),R(e,a,o.ALL_ALBUMS,-1)},fontSize:t,icon:"camera",totalCount:i,linkText:C||P.string("photos_module_carousel_view_all_photos_plain"),background:l})}):null},T=Math.max(Math.min(m,l.length-1),0),M=20*Math.floor(T/20),x=Math.min(M+20,l.length),L=l[T].mediaId,k=L&&!N()?r=>{g({module:"photoviewer",action:"atf_hero_click",context:`${r}`}),R(e,a,o.ALL_ALBUMS,r)}:null,B=()=>k?A():!B&&N()?r(d,{textClassName:e_.backupPhotoText,text:P.string("hr_lowcontent_geo_photo_disclaim_2")}):null;return r("div",{className:w(e_.carouselWrap,N()?e_.carouselWrapMobileThinGeo:e_.carouselWrapMobileRegular,e_.carouselContainer,e_["carousel-container"]),children:t("div",{className:e_.flexColumn,children:[r(I,{children:a=>r(j,{width:"100%",height:"100%",media:l,totalCount:i,uniqueId:`${e}`,showIndicatorDots:y(),onClick:e=>{L&&!N()&&a({elementType:"photo",actionName:"HR_MEDIA_CAROUSEL",itemAttributes:{media_id:e}}),k&&k(e)},onLoadLast:()=>"function"==typeof n&&n(),loadLastThreshold:19,onNextClick:()=>{g({module:"photoviewer",action:"atf_hero_arrow_click"})},onPrevClick:()=>{g({module:"photoviewer",action:"atf_hero_arrow_click"})},imageFitStrategy:"cover",backgroundColor:"black",showCta:!!k,hideArrows:N(),renderOverlay:B,sizeHint:{mobile:"100vw",tablet:"70vw",desktop:"60vw"},lazyLoadImages:!1})}),i>10&&r("div",{className:e_.photoStripContainer,children:r(s,{imageSourceDimensions:$,media:l.slice(M,x),selectedIndex:T%20,onMediaSelected:a=>{h(`${e}`,M+a),l.length!==i&&l.length-M-a<20&&"function"==typeof n&&n(),g({module:"photoviewer",action:"atf_previewthumb_click"})},numItemsInRow:10})}),N()&&r("div",{className:e_.ctaContainer,children:r(c,{postPhotosUrl:p||`/PostPhotos-d${e}`,writeReviewUrl:v||`/UserReview-d${e}`,locationName:b||""})})]})},"carousel-container")},eI=({renderCarouselPane:e,renderAlbumPane:a,renderBadge:r,queryProps:o})=>{var{enabled:l}=U();return t("div",{className:w("_Z","LOOhJ _T f",{KYxuk:l}),"data-section-signature":"photo_viewer",children:[e(o),a(o),r(o)]})},ew=e=>r(Z,{...e}),eC=e=>r(q,{...e}),eP=e=>r(D,{...e}),eN=e=>r(V,{queryProps:e,renderBadge:ew,renderCarouselPane:eC,renderAlbumPane:eP}),ey=()=>r(h,{renderMediaWindow:eN});return[()=>{R=Y,X.defaultProps={maxFaces:void 0},S=X,ei.defaultProps={avatarData:[]},E=ei,es.defaultProps={title:"",count:0,renderIcon:ec},z=es,D=_((e,{location:a,windowPanes:r,loading:t})=>({albums:r?.[1]??null,locationId:a?.locationId??0,avatarData:a?.travelerAlbum?.[0]?.photos??null,geoId:e.page.geoId,loading:t}))(ep),H=eb,$={clientWidth:60,clientHeight:50},j=_(e=>({containerDimensions:eg(e.meta.device.viewportCategory)}))(n),G=_((e,a)=>({viewportCategory:e.meta.device.viewportCategory,carouselIndex:l(e).currentIndex?.[`${a.locationId}`]||0}),{updateCarouselIndex:i.updateCurrentIndex})(ef),W=class extends T{render(){var{loading:e,locationId:a,geoId:t,client:o,initOffset:l,album:i}=this.props;if(e&&!i||!a)return r(x,{height:"100%",width:"100%"});if(!t)throw Error("No geoId provided to CarouselPane");if(!i)return r(H,{locationId:a,geoId:t});var{totalMediaCount:n,albumId:s,mediaList:c,dataStrategy:d}=i;return r(m,{locationId:a,albumId:s,client:o,dataStrategy:d,filter:L(),initMedia:c,initOffset:l,totalMediaCount:n,pageSize:20,uniqueId:`${a}`,render:this.renderCarousel})}constructor(...e){var a,t;super(...e),a="renderCarousel",t=({loading:e,media:a,getNextPage:t})=>{var{album:o,locationId:l,geoId:i,postPhotosUrl:n,writeReviewUrl:s,locationName:c}=this.props,{totalMediaCount:d,albumId:u,name:m}=o;return!e||a&&d?a&&0!==d?r(G,{locationId:l,geoId:i,media:a,totalMediaCount:d,getNextPage:t,albumId:u,albumName:m,postPhotosUrl:n,writeReviewUrl:s,locationName:c}):r(H,{locationId:l,geoId:i}):r(x,{height:"100%",width:"100%"})},a in this?Object.defineProperty(this,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[a]=t}},q=_((e,{location:a,windowPanes:r,loading:t})=>{var o=((a?.locationId??null)||e?.page?.detailId)??e?.page?.transData?.location?.locationId??0;return{locationId:o,album:r?.[0]?.[0]??e?.page?.transData?.album??null,geoId:e?.page?.geoId??0,client:"hra",initOffset:20,loading:t,postPhotosUrl:a?.postPhotosUrl??`/PostPhotos-d${o}`,writeReviewUrl:a?.writeUserReviewUrl??`/UserReview-d${o}`,locationName:a?.name??null}})(W),V=M(eI),F=ey,e({ATFNoPhotoCTA:H,AlbumThumbnailIcon:E,AlbumThumbnailOverlay:z,default:F})},[e=>(r=e.jsx,t=e.jsxs),e=>(o=e.AlbumTypes,l=e.getMediaCarouselState,i=e.MEDIA_CAROUSEL_ACTIONS,n=e.MediaCarousel,s=e.Mediastrip,c=e.ThinGeoCTA,d=e.PhotoSource,u=e.PhotoCount,m=e.AlbumPagingProvider,h=e.MediaWindowContainer),e=>p=e.CertificateOfExcellence,e=>v=e.TravelersChoice,e=>b=e.useViewportCategory,e=>_=e.connect,e=>g=e.default,e=>f=e.HasBeenVisible,e=>I=e.BBMLInteractionLogger,e=>w=e.default,e=>C=e.Thumbnail,e=>P=e.featureIsEnabled,e=>N=e.openMediaViewer,e=>y=e.Icon,e=>A=e.Avatar,e=>(T=e.PureComponent,M=e.memo),e=>x=e.default,e=>L=e.getMediaFilterToRetrieveAllPhotos,e=>k=e.default,e=>O=e.useLocalize,e=>(B=e.useHRCommerceRoundedCornersVariant,U=e.useHRExpandedCommerce)]]},["21h32l","mhdyoo","3mqm4w","2q3kwo","ys6v1o","2mj4nv","4axon3","w0dpwq","5nmd8a","fkji80","0tr9w6","skjzuv","uk99rb","ybxsmg","dl4tf4","o4yt4q","u59av4","3w1vrt","4nzso8","7thqz4","wsk8ra"]]);
