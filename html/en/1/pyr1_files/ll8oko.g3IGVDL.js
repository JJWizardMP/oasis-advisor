(this.$WP=this.$WP||[]).push(["ll8oko",(e,t)=>{var o,n,i,a,r,s,l,c,d,u,_,m,h,p,b,v,w,g,T,C,I,f,N,R,k,y,x,E,O,S,P,U,q,H,B,L,A,Q,D,M,j,z,W,G,$,V,F,J,X,K,Y,Z,ee,et,eo,en,ei,ea,er={__key:0xed773bf591bd,id:"ed773bf591bd8c4a",loc:{},definitions:[]},es={loading:!0,writeUserReviewUrl:"",topicsUrl:"",postPhotosUrl:"",roomTipsCount:0,questionsCount:0,reviewsCount:0,hasNoContent:!1,isActiveOwner:!1,locationId:0,geoId:0},el=({locationId:e,children:t})=>{var n,[{data:i,fetching:a}]=h({query:er,variables:{locationId:e},pause:!e||e<0});if(!a&&i&&i.locations&&i.locations[0]){var r=i.locations[0],s=r.topicCount||0,l=r.reviewSummary?.count||0;n={loading:a,writeUserReviewUrl:r.writeUserReviewUrl||"",topicsUrl:r.topicsUrl||"",postPhotosUrl:r.postPhotosUrl||"",roomTipsCount:r.roomTipsCount||0,questionsCount:s,reviewsCount:l,hasNoContent:0===s&&0===l,isActiveOwner:r.currentUserOwnerStatus?.isValid||!1,locationId:r.locationId||0,geoId:r.parentGeoId||0}}else n=es;return o(G,{value:n,children:t})},ec="community_qa_question_form",ed="photo-uploader",eu=({locationId:e,geoId:t,writeUserReviewUrl:n,className:i,pid:a,cookieDomain:r,onClick:s,children:l})=>e<=0||t<=0?null:o("a",{href:n||`/UserReview-g${t}-d${e}`,target:"_blank",className:i,onClick:e=>{s&&s(e),a&&a>0&&T(a,r)},children:l}),e_=e=>n("div",{className:a("PxcvT","ui_column is-4"),children:[o(C,{name:e.icon,className:"okNbn"}),o("div",{className:"IdBqQ b H",children:e.title}),o("div",{className:"LdcTd Md Nb MC NC",children:e.subtitle}),e.children("oBeaB")]}),em=()=>{var{localize:e}=p(),t=t=>t?e.string("hotel.review.finish.review_fffff216"):e.string("hr_write_a_review");return o(W,{children:({locationId:n,geoId:i,writeUserReviewUrl:r})=>o(V,{icon:"pencil-paper",title:e.string("hr_write_your_review"),subtitle:e.string("hr_write_your_review_sub_title"),children:e=>o(w,{children:({hasDraftReview:s})=>o($,{locationId:n,geoId:i,writeUserReviewUrl:r,pid:40537,className:a("ui_button primary",e),onClick:e=>v(e,{module:"low_content_collection_cta_review",action:"start_submission",context:"POI|Hotel",dstServlet:"UserReviewEdit",value:0,once:!0}),children:t(s)})})})})},eh=({module:e,children:t,location:n})=>o(f,{name:ed,children:i=>o(I,{forceLogin:!1,children:o=>t(()=>{b({module:e,location:n,action:"start_submission",context:"POI|Hotel"}),o().then(i)})})}),ep=()=>{var{localize:e}=p();return o(J,{module:"low_content_collection_cta_photo",children:t=>o(V,{icon:"camera",title:e.string("hr_share_your_photo"),subtitle:e.string("hr_share_your_photo_subtitle_period"),children:n=>o("span",{className:a("ui_button primary",n),onClick:t,children:e("hr_post_a_photo")})})})},eb=()=>{var{localize:e}=p();return o(W,{children:({topicsUrl:t})=>o(V,{icon:"forums",title:e.string("hr_get_answers"),subtitle:e.string("hr_get_answer_subtitle"),children:n=>o("a",{href:`${t}#AskQuestionForm`,target:"_blank",className:a("ui_button primary",n),onClick:e=>{v(e,{module:"low_content_collection_cta_question",action:"start_submission",context:"POI|Hotel",value:0,once:!0})},children:e("hr_ask_a_question")})})})},ev={row:"NC Nb",noReviews:"Mf",roundedCorners:"GUoEE"},ew=e=>o(el,{locationId:e.locationId,children:o(W,{children:({loading:t,isActiveOwner:i,questionsCount:s,reviewsCount:l,roomTipsCount:c})=>{var d=5;switch(e.selectedTab){case"Questions":d=s;break;case"RoomTips":d=c;break;default:d=l}return t||i||d>=5&&0!==l?null:n(r,{testTarget:"low_content_cta",className:a("ui_columns",ev.row,0===l?ev.noReviews:"",{[ev.roundedCorners]:e.enableRoundedCorners}),section:"communityContent",theme:"box",children:[o(F,{}),o(X,{}),o(K,{})]})}})}),eg={see_all_link:"weEPs _R S4 H3 b"},eT=()=>{var{localize:e}=p();return o(W,{children:({topicsUrl:t,questionsCount:n})=>n>3?o("a",{href:t,target:"_blank",className:eg.see_all_link,children:e("qa_see_all_n_questions",{nQuestions:n})}):null})},eC=e=>{var{localize:t}=p();return o(W,{children:n=>o(z,{...e,context:n,localize:t,children:e.children})})},eI=({locationId:e})=>{var{localize:t}=p();return o("a",{href:`/ManagementCenter-d${e}`,className:"ui_button primary",onClick:t=>{v(t,{module:"owner_cta",action:"owner_visit_mc_middle",context:e.toString(),value:0,once:!0})},children:t("restaurant_owners_visit_your_owner_mangement_center")})},ef=({locationId:e,onClick:t,children:n,className:i})=>e<=0?null:o("a",{href:`/PostPhotos-d${e}`,target:"_blank",className:i,onClick:e=>{t&&t(e)},children:n}),eN={icon:"yMKLb",wrapper:"EXBEN _S",currentOption:"woPbY",contextualCTA:"lDMPR _m",dropdownArrow:"fjFUH",arrowWrapper:"sSyKE u j",option:"qCJme _S b Wc",linkText:"SvHEb"},eR=e=>{var{localize:t}=p(),{logImpression:i,logInteraction:a}=j(),r=e=>e?t.string("hotel.review.finish.review_fffff216"):t.string("hr_write_a_review"),s=H();u(()=>{e?.selectedTab!=="Questions"&&i("POI_WRITE_REVIEW_SECTION",!0,{customData:JSON.stringify({geoId:e.geoId})})},[e?.selectedTab,i,e.geoId]);var l={Reviews:()=>o(W,{children:({writeUserReviewUrl:t})=>o(w,{children:({hasDraftReview:n})=>o($,{locationId:e.locationId,geoId:e.geoId,writeUserReviewUrl:t,pid:40537,className:"ui_button primary",onClick:t=>{a("POI_WRITE_REVIEW_SECTION",!1,{customData:JSON.stringify({geoId:e.geoId})}),v(t,{module:"content_submission|review",action:"start_submission",context:"POI|Hotel",dstServlet:"UserReviewEdit",value:0,once:!0})},children:r(n)})})}),Questions:()=>o(f,{name:ec,children:e=>o(Q,{call:e,children:e=>o(A,{type:"primary",onClick:()=>{D("hr-community-tab").emit("selectTab","Questions",!0),e(),b({module:"content_submission|question",action:"start_submission",context:"POI|Hotel",value:0,once:!0})},children:t("hr_ask_a_question")})})})},c={Reviews:({close:t})=>o(W,{children:({writeUserReviewUrl:i})=>o(w,{children:({hasDraftReview:s})=>n($,{locationId:e.locationId,geoId:e.geoId,writeUserReviewUrl:i,pid:40537,className:eN.option,onClick:o=>{t(),a("POI_WRITE_REVIEW_SECTION",!1,{customData:JSON.stringify({geoId:e.geoId})}),v(o,{module:"contextual_cta_dropdown_review",action:"start_submission",context:"POI|Hotel",dstServlet:"UserReviewEdit",value:0,once:!0})},children:[o(C,{name:"pencil-paper",className:eN.icon}),o("span",{className:eN.linkText,children:r(s)})]})})}),Photos:s?({close:i})=>n(en,{locationId:e.locationId,className:eN.option,onClick:e=>{i(),v(e,{module:"contextual_cta_dropdown_photo",action:"start_submission",context:"POI|Hotel"})},children:[o(C,{name:"camera",className:eN.icon}),o("span",{className:eN.linkText,children:t("hr_post_a_photo")})]}):()=>o(J,{module:"contextual_cta_dropdown_photo",children:e=>n("span",{className:eN.option,onClick:()=>{e()},children:[o(C,{name:"camera",className:eN.icon}),o("span",{className:eN.linkText,children:t("hr_post_a_photo")})]})}),Questions:({close:e})=>o(f,{name:ec,children:i=>o(Q,{call:i,children:i=>n("span",{className:eN.option,onClick:()=>{e(),D("hr-community-tab").emit("selectTab","Questions",!0),i(),b({module:"contextual_cta_dropdown_question",action:"start_submission",context:"POI|Hotel",value:0,once:!0})},children:[o(C,{name:"forums",className:eN.icon}),o("span",{className:eN.linkText,children:t("hr_ask_a_question")})]})})})},d=()=>{var t=e?.selectedTab==="Questions"?l.Questions:l.Reviews;return o("div",{className:eN.currentOption,children:_(t)})},m=()=>o(L,{below:!0,fullBleed:!0,local:!0,arrowType:"none",closeButton:!1,alignEdge:"right",shiftY:2,contents:e=>Object.keys(c).map(t=>_(c[t],{close:e,key:t})),children:(e,t,n,i)=>o(M,{className:eN.dropdownArrow,events:i?["onTouchStart"]:["onClick","onTouchStart","onTouchEnd"],children:o("div",{ref:e,className:eN.arrowWrapper,onClick:()=>{(i?n:t)(),b({module:"contextual_cta_dropdown_toggle",action:"open",context:"POI|Hotel",value:0,once:!0})},children:o(C,{name:i?"caret-up":"caret-down"})})})});return o(B,{children:o(W,{children:({loading:t,hasNoContent:i,isActiveOwner:a})=>t||i?null:a?o(eo,{locationId:e.locationId}):o("div",{className:eN.wrapper,children:n("div",{className:eN.contextualCTA,"data-test-target":"ugc_cta_button",children:[o(d,{}),o(m,{})]})})})})},ek={tab:"wHqmu",inactive:"rvvXh",icon:"oGeFI _R",tabCount:"iypZC Mc _R b",typeText:"xJTmy",roundedCorners:"VBBrg",roundedCornersTop:"HyIkh",roundedCornersBottom:"BHxbZ",noReviewSection:"OXCVr"},ey=(e,t)=>{switch(e){case"Reviews":return t.string("common_Reviews");case"Questions":return t.string("mobile_questions_answers");case"RoomTips":return t.string("tabs_room_tips_title_fffff661");default:return""}},ex=e=>{var{localize:t}=p(),c=m(U);return u(()=>(c.add(s.reviews),()=>{c.delete(s.reviews)}),[c]),n(el,{locationId:e.locationId,children:[o(r,{section:e.isTabbedTestEnabled?"reviewsTabs":"reviews",theme:"none",children:o(R,{className:a({[ek.roundedCorners]:e.enableRoundedCorners}),children:o(et,{...e,countClass:ek.tabCount,typeClass:ek.typeText,children:t=>t.map(t=>o(y,{children:i=>n(k,{active:t.tab===e.selectedTab,onClick:t.count>0?()=>{i({elementType:t.tab,actionName:"HR_GROUPING_TAB"}),e.setSelectedTab(t.tab,!0)}:()=>!1,className:a(ek.tab,`test-target-tab-${t.tab}`,t.count>0?null:ek.inactive,{[ek.roundedCornersTop]:e.enableRoundedCorners}),children:[o(C,{name:t.icon,className:ek.icon}),o("span",{"data-test-target":`CC_TAB_${t.tab}_LABEL`,children:o("span",{dangerouslySetInnerHTML:{__html:t.label}})})]},t.tab)},t.tab))})})}),o(W,{children:({loading:s,isActiveOwner:c,questionsCount:d,reviewsCount:u,roomTipsCount:_})=>{var m=5;switch(e.selectedTab){case"Questions":m=d;break;case"RoomTips":m=_;break;default:m=u}return s||c||m>=5&&0!==u?n(r,{theme:"tabbed-top",joinable:!ee.has(e.selectedTab),section:"communityContent",className:a({[ek.roundedCornersBottom]:e.enableRoundedCorners&&"Reviews"!==e.selectedTab}),children:[n(l,{text:n(i,{children:[ey(e.selectedTab,t),"Reviews"===e.selectedTab?n(i,{children:[o(E,{}),o(S,{marginTop:"spacing-02"})]}):null,"RoomTips"===e.selectedTab?o(S,{includeHamonLawLocales:!0,marginTop:"spacing-02"}):null]}),subText:"Questions"===e.selectedTab?o(Z,{}):null,noDivider:ee.has(e.selectedTab),isDsStyle:e.enableRoundedCorners,children:["Reviews"===e.selectedTab?o(O,{locationId:e.locationId}):null,o(ei,{selectedTab:e.selectedTab,locationId:e.locationId,geoId:e.geoId})]}),o(x,{})]}):o(r,{theme:"tabbed-top",section:"communityContent",className:a({[ek.noReviewSection]:e.enableRoundedCorners}),children:o(l,{text:o(i,{children:ey(e.selectedTab,t)}),noDivider:!0,isDsStyle:e.enableRoundedCorners,children:o(ei,{selectedTab:e.selectedTab,locationId:e.locationId,geoId:e.geoId})})})}}),o(P,{mediaType:"photo",linkUploaderModalName:"link-uploader",modalName:ed,pid:40537,locationId:e.locationId})]})},eE=(e=0)=>{var t=document.querySelector("#REVIEWS"),o=document.querySelector("body");if(o&&t){var n=o.getBoundingClientRect().top;window.scrollTo(0,t.getBoundingClientRect().top-n-e)}};return[()=>{({Consumer:W,Provider:G}=c(es)),$=g(e=>({cookieDomain:e.meta.cookieDomain}))(eu),V=e_,F=em,J=g(e=>({location:e.page.detailId}))(eh),X=ep,K=eb,Y=ew,Z=eT,ee=new Set(["Questions","RoomTips"]),z=class extends d{componentDidUpdate(){this.state.defaultTabCheckCompleted||this.defaultTabCheck()}defaultTabCheck(){var{loading:e,hasNoContent:t,questionsCount:o,reviewsCount:n}=this.props.context;e||(this.setState({defaultTabCheckCompleted:!0}),!t&&0===n&&o>0&&this.props.setSelectedTab("Questions"))}render(){var{loading:e,hasNoContent:t,questionsCount:n,reviewsCount:i,roomTipsCount:a}=this.props.context,{selectedTab:r,children:s,countClass:l,typeClass:c}=this.props;if(t)return null;if(e)return o(q,{height:"120px"});var d={selectedTab:r};return s([{tab:"Reviews",icon:"pencil-paper",count:i,label:this.props.localize.string("hr_community_tab_reviews",{countClass:l,typeClass:c,count:i}),...d},{tab:"Questions",icon:"forums",count:n,label:this.props.localize.string("hr_community_tab_questions_2",{countClass:l,typeClass:c,count:n}),...d},{tab:"RoomTips",icon:"lightbulb-on",count:a,label:this.props.localize.string("hr_community_tab_room_tips",{countClass:l,typeClass:c,count:a}),...d}])}constructor(...e){var t,o;super(...e),o={defaultTabCheckCompleted:!1},(t="state")in this?Object.defineProperty(this,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[t]=o}},et=eC,eo=eI,en=ef,ei=eR,ea=N((e,t)=>(x.stage(e,t),(e,t)=>t))(ex),e({HEADER_SCROLL_OFFSET:66,H_R_CONTENT_COLLECTION_PID:40537,LowContentCTA:Y,PHOTO_UPLOADER_MODAL_NAME:ed,QUESTION_FORM_MODAL_NAME:ec,TabBarAboveHeader:ea,scrollIntoView:eE})},[e=>(o=e.jsx,n=e.jsxs,i=e.Fragment),e=>a=e.default,e=>(r=e.Section,s=e.sectionToElementIdMapping,l=e.ComplexHeader),e=>(c=e.createContext,d=e.Component,u=e.useEffect,_=e.createElement,m=e.useContext),e=>h=e.useQuery,e=>p=e.useLocalize,e=>(b=e.default,v=e.trackClick),e=>w=e.DraftReviewConsumer,e=>g=e.connect,e=>T=e.setPIDCookie,e=>C=e.Icon,e=>I=e.SocialLoginGate,e=>f=e.Opener,e=>N=e.bind,e=>(R=e.GroupingTabs,k=e.GroupingTab),e=>y=e.BBMLInteractionLogger,e=>(x=e.SensitiveIssuesBadge,E=e.ReviewControlNotice,O=e.PointsCampaign),e=>S=e.default,e=>P=e.MediaUploaderModal,e=>U=e.SectionIdContext,e=>q=e.default,e=>H=e.useIsPostPhotosNewUploaderEnabled,e=>B=e.HideOnReadonly,e=>L=e.default,e=>A=e.default,e=>Q=e.AuthGated,e=>D=e.createRadio,e=>M=e.default,e=>j=e.useUserReviewTracking]]},["21h32l","fkji80","mjqgle","o4yt4q","mqwhqn","7thqz4","4axon3","rm3gfe","2mj4nv","2ve3zv","ybxsmg","0506zk","80hn7v","6z5q2p","k3un42","5nmd8a","uy63ln","633gr8","sqiy8q","a182zj","u59av4","bou3nl","zjrz9w","4q9l40","4nzso8","c6bybw","bqgabj","65rb8q","9btuwa"]]);
